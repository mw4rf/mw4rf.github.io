---
layout: post
status: publish
published: true
title: QuickTime, une merveille !
author:
  display_name: GF
  login: gflorimond
  email: gf@valhalla.fr
  url: http://www.valhalla.fr
author_login: gflorimond
author_email: gf@valhalla.fr
author_url: http://www.valhalla.fr
excerpt: "J'ai déjà écrit cet article. Mais j'ai dû formater mon disque, et j'ai tout
  perdu. C'était un coup de gueule, écrit sur le moment, après mes premiers essais
  de conversion de vidéos pour l'iPod 5G. Deux semaines plus tard, ma colère contre
  QuickTime (ci-après, \"QT\") est quelque peu retombée. Cette nouvelle version de
  l'article, je la veux fidèle à l'originale quant au contenu et au ton employé, mais
  également plus objective, avec plus d'explications, et traitant en partie d'iTunes,
  car contre lui aussi j'ai des griefs. \r\n\r\n"
wordpress_id: 82
wordpress_url: http://blog.gfblog.com/?p=82
date: '2005-11-28 18:53:46 +0100'
date_gmt: '2005-11-28 16:53:46 +0100'
categories:
- Mac
- Coup de gueule
tags:
- software
- Coup de gueule
- Apple
---
<p>J'ai déjà écrit cet article. Mais j'ai dû formater mon disque, et j'ai tout perdu. C'était un coup de gueule, écrit sur le moment, après mes premiers essais de conversion de vidéos pour l'iPod 5G. Deux semaines plus tard, ma colère contre QuickTime (ci-après, "QT") est quelque peu retombée. Cette nouvelle version de l'article, je la veux fidèle à l'originale quant au contenu et au ton employé, mais également plus objective, avec plus d'explications, et traitant en partie d'iTunes, car contre lui aussi j'ai des griefs. </p>
<p><a id="more"></a><a id="more-82"></a></p>
<p>Je commence, donc. J'ai acheté l'iPod 5G il y a quelques temps, ce nouvel iPod, de cinquième génération, permettant de lire des vidéos. Un <a href="http://blog.gfblog.com/index.php/2005/11/11/test-de-lipod-video-5g/">article</a> ici-même lui est d'ailleurs consacré. Naturellement, après avoir déballé le machin de sa boîte et avoir passé 1 heure à mettre à jour ma bibliothèque iTunes, l'envie de tester les nouvelles fonctionnalités vidéo est devenue pressante. Croyez-vous qu'Apple ait pensé à offrir une vidéo de l'iTMS ("iTunes Music Store", boutique en ligne de vente de contenu multimédia tenue par Apple) aux acheteurs d'un iPod 5G ? Oui, bien sûr qu'ils y ont pensé ! Seulement, ils ne l'ont pas fait. Donc je me suis dit que j'allais télécharger une vidéo sur Internet avec <a href="http://www.frostwire.com/">FrostWire</a>, et tenter de la convertir dans un des deux -seuls- formats lisibles sur l'iPod (MPEG4, H264). Aussitôt dit, aussitôt fait. Oui, mais comment la convertir ? Pour la première, j'ai voulu essayer de faire quelque chose de "propre". Je suis donc allé voir la <a href="http://www.apple.com/quicktime/tutorials/creatingvideo.html">page</a> sur le site d'Apple consacrée à la création de vidéos pour l'iPod. Apple recommande d'utiliser QuickTime dans une procédure relativement simple (ouvrir le fichier dans QuickTime, accéder au menu Fichier &gt; Exporter..., et choisir le format "iPod" dans le menu déroulant).</p>
<p>Ca tombe bien, j'ai une licence -pas piratée!- QuickTime Pro, et seul QuickTime Pro permet une telle conversion. Hop, c'est parti, mon clip musical de 5 minutes est converti après 20 minutes de travail intensif de QuickTime (mon CPU a chauffé...). Upload sur l'iPod. Lecture. L'image est parfaite, très fluide, sans défaut, elle n'est pas pixellisée. Par contre, il n'y a pas de son. C'est assez bête pour un clip musical, il faut bien l'admettre. Je réessaye avec un, deux, trois autres clips. Même mal, mêmes symptômes.</p>
<p>Les faits sont présentés. Plus subjectivement maintenant, ma première réaction. J'ai pensé, et je le maintiens, qu'Apple est vraiment gonflée. C'est même à la limite de l'escroquerie. Premièrement, de vendre un produit à plus de 400 euro, dont la caractéristique principale est qu'il peut lire des vidéos, qui ne reconnaît que deux formats marginaux (je reviendrai longuement sur les formats), sans livrer avec de logiciel capable de créer de telles vidéos. Deuxièmement de vendre un produit, la version Pro de QT, dont la principale caractéristique est de pouvoir encoder des vidéos, sans que cette fonction d'encodage permette de générer des fichiers compatibles avec l'iPod.</p>
<p>Sur le premier point, il faut dire qu'Apple a adopté depuis quelques temps une politique de masse pour son iPod qui n'est, de ce fait, plus un produit de luxe mais un produit de grande consommation. Il est donc logique de penser que les gens achèteront leurs vidéos et clips musicaux sur l'iTMS. Et bien non, les désirs d'Apple ne sont pas des réalités. Si l'iPod avait été exclusivement compatible avec les vidéos vendues sur l'iTMS, je ne l'aurais pas acheté. Si l'iPod avait été exclusivement compatible avec les morceaux vendus sur l'iTMS, personne n'aurait acheté d'iPod. Apple le sait, et a joué sur cela dès le départ. Alors pourquoi maintenant mettre de telles barrières à l'utilisation de la vidéo ? Simplement parce que développer un logiciel de conversion représente des frais supplémentaires et qu'il y a déjà QT Pro à vendre. Soit, alors autant acheter QT Pro.</p>
<p>Sur le second point, portant sur l'inaptitude de QT Pro à convertir efficacement une vidéo pour l'iPod, il faut comprendre la politique d'Apple quant à QT. QuickTime est un logiciel soit pour les professionnels soit pour les utilisateurs de base, mais ni pour les utilisateurs intermédiaires ni pour les "geeks". Je dois expliquer ce que j'entend par là, car cela peut paraître contradictoire à première vue. Je veux dire par là que QT convient à la personne qui importe sa vidéo depuis son camescope numérique et la monte avec iMovie ou Final Cut Pro. iMovie pour les amateurs qui ne connaissent pas grand chose ni en vidéo ni en informatique. Final Cut Pro pour ceux qui s'y connaissent en montage vidéo. Par contre, pas de place pour ceux qui téléchargent depuis Internet, ou qui ont tout simplement utilisé un codec de compression (DivX, Xvid, n'importe quoi du même genre) pour faire tenir leur film sur un CD: ce sont ceux qui s'y connaissent un peu en informatique, et un peu en vidéo. Pas de place non plus pour les bidouilleurs ("geeks") qui multiplexent et démultiplexent (j'y renviendrai, ne vous inquiétez pas), rajoutent des sous-titres, changent les bitrate, fréquences, résolution et dimensions, framerate, débits, canaux, et tout plein d'autres joyeusetés. Ce n'est pas grave, en soi, mais que QT ne se présente pas, dans ce cas, comme un "couteau suisse" de la vidéo. On pourrait répondre à cela qu'Apple se désintéresse des pirates qui téléchargent des films sur les réseaux P2P (juste pour embêter la MPAA d'ailleurs), et que c'est donc à raison que QT est bridé. Il n'en est rien. Premièrement car il est tout à fait légal d'encoder un DVD que l'on possède au titre de la copie privée, et que QT échouera lamentablement (pour cela, il faudra se tourner vers <a href="http://handbrake.m0k.org/">HandBrake</a>). Deuxièmement car QT est censé pouvoir le faire, mais qu'il n'y arrive tout simplement pas.</p>
<p>Techniquement, pourquoi un tel problème de son ? Le fichier généré par QT affiche la vidéo sur l'iPod, mais pas le son. C'est un problème de multiplexage/démultiplexage (voyez, on y arrive), ou muxage/démuxage en adaptant le mot anglais. Pour faire simple, un fichier vidéo peut être séparé en deux partie: celle qui gère l'image, et celle qui gère le son. Les deux parties sont compressées dans des formats spécifiques et différents: le MPEG4 ou le H264 pour l'image, et le AAC pour le son. Or, 99% des vidéos que l'on peut télécharger sur Internet (DivX et autres) ont un son encodé en MP3. Il faut donc, dans un premier temps, séparer l'image du son pour les convertir séparément avant de les recombiner dans un second temps. C'est cela que l'on appelle multiplexage/démultiplexage (c'est en réalité beaucoup plus complexe), et c'est ce que QT ne sait pas faire. Cela peut vous sembler un détail technique, mais c'est d'une extrême importance, et le fait que QT ne sache pas le faire prive ce logiciel d'une grande partie de son intérêt (encoder des vidéos).</p>
<p>La solution maintenant. Ce n'est pas compliqué, il faudra juste recourir à un logiciel supportant le démultiplexage et permettant de générer des vidéos compatibles avec l'iPod. <a href="http://homepage.mac.com/tylerl82/">iSquint</a> est gratuit et léger, sa seule fonction étant de convertir des vidéos pour l'iPod 5G. <a href="http://homepage.mac.com/major4/fr/index.html">ffmpegX</a> est une interface graphique pour de nombreux outils Unix très puissants: on peut presque tout faire avec, mais c'est relativement compliqué. Il est payant, mais bien moins cher que QT Pro. <a href="http://www.kaisakura.com/fortytwovx.php">Forty-TwoDVD-VXPlus</a> a un nom barbare (vous ne trouvez pas ?), mais c'est le logiciel le moins barbare de cette liste, puisqu'il permet de convertir très facilement des vidéos pour l'iPod. Il est également payant, mais pas très cher (une dizaine de dollars). Son seul inconvénient est qu'il plante au bout d'un certain temps d'encodage si la file d'attente est longue (du moins, la version que j'utilise). Finalement, <a href="http://www.objectifmac.com/">D-Vision</a> est un excellent logiciel français et gratuit qui permet de réaliser diverses opérations sur les vidéos. C'est un excellent logiciel (certainement le mieux pensé de la liste), mais il n'a pour l'instant aucune fonction propre à l'iPod (les réglages seront donc à faire manuellement, contrairement aux produits ci-dessus qui permettent d'encoder un fichier pour l'iPod en 2 clics). Pour plus d'informations et pour des liens vers des outils compatibles MS Windows, reportez vous à l'<a href="http://blog.gfblog.com/index.php/2005/11/11/test-de-lipod-video-5g/">article</a> sur l'iPod vidéo, ce n'est pas le sujet de celui-ci.</p>
<p>On l'aura compris, QT ne gère que les sources "propres" qui n'ont pas été encodées, ou qui l'ont été par un codec Apple supportant l'AAC. Mais ce n'est pas son seul défaut côté encodage. Il en présente à mon sens deux autres. Premièrement, l'absence de file d'attente. Sachant que l'encodage d'une vidéo est une opération assez longue (pour un DVD, comptez au moins une dizaine d'heures), on aurait aimé pouvoir créer une file d'attente qui passe automatiquement au second fichier une fois le traitement du premier terminé. Mais non, avec QT il faut lancer l'opération manuellement pour chaque fichier. Je vous laisse imaginer ce que ça donne si vous avez 100 fichiers à traiter, et que le traitement d'un fichier prend 20 minutes. Deuxièmement, QT est extrêmement lent. Sa lenteur est une insulte aux programmeurs qui ont élaboré les codecs (les algorithmes de compression). J'ai testé ! J'ai pris 10 fichiers entre 5 et 10 minutes chacun, certains en DivX et d'autres en Xvid, tous entre 30 et 80 Mo. Il faut à QuickTime un peu plus de 12 minutes en moyenne par fichier. L'opération a duré au total 2 heures 30 et des poussières. Avec Forty-Two, aucun encodage ne dépassa 8 minutes, et tout fut terminé en 1 heure ! ffmpegX a pris, quant à lui, à peu près 1 heure et 15 minutes (ce que je ne m'explique pas puisqu'il est censé utiliser les mêmes outils que Forty-Two... enfin de toute façon je n'ai pas vraiment recherché la raison de cette différence). Il apparaît clairement que QT est beaucoup plus lent que ses concurrents. En plus, tous ces logiciels présentent une barre de progression qui évolue normalement et qui indique le temps écoulé et le temps qu'il reste, alors que la barre de progression de QT ne donne pas de telles informations, et se comporte de façon assez étrange (elle évolue plus rapidement lorsqu'elle est au premier plan, elle évolue vite au début et aux 2/3, et très lentement vers la fin du fichier). Et n'oubliez pas la cerise sur la choucroutte: au final le fichier généré par QT est lisible par lui, mais pas par l'iPod !</p>
<p>Pourquoi acheter QT s'il sait encoder si mal ? Pour lire les vidéos en plein écran. Oui, car la version basique de QT ne sait pas lire les vidéos en plein écran, il faut pour cela acheter la version Pro. Payer 50 euro pour lire les vidéos en plein écran. Apple est en plein délire, c'est indéniable. Il se trompent lourdement: la lecture plein écran n'est pas un "plus" pour lequel on peut payer, c'est une fonction essentielle de tout lecteur vidéo qui fait défaut à la version basique, rendant celle-ci inutile. Pousser l'appât du gain jusqu'à ce point frise pour moi la malhonnêteté. D'autant plus qu'il existe de nombreux lecteurs multimédia gratuits, et ils gèrent tous cette fonction essentielle. Même Microsoft que l'on accuse souvent de rechercher à faire de l'argent à tout prix, au détriment de la qualité de ses produits, n'a pas suivi la voie qu'a choisi Apple, Windows Media Player (ci-après "WMP"), gratuit, permettant de lire les vidéo en plein écran.</p>
<p>On pourrait penser que la version Pro de QT apporte une expérience plus intéressante que les lecteurs gratuits dans la lecture de vidéos. Il n'en est rien. QT est également un très mauvais lecteur. La raison est la même que pour l'encodage: il n'est fait que pour lire les vidéos "propres", encodées avec un codec commercial haute technologie. Bref, des vidéos dont tout le monde se fiche. Certes le piratage c'est moralement très mal, c'est le fléau de notre temps en ce que cela provoque des guerres, des pandémies et la faim dans le monde ; et cela peut même tuer votre chien et brûler votre maison si vous avez le malheur de double-cliquer sur une vidéo piratée. Mais la réalité est bien différente: les vidéos qu'un lecteur doit pouvoir lire sont les DivX téléchargés sur internet, car ce sont ces vidéos que l'immense majorité des utilisateurs d'un tel logiciel veulent pouvoir visionner. Apple ignore sciemment cette évidence. Prenons un exemple. Lorsque WMP se trouve confronté à une vidéo qu'il ne peut pas lire, il recherche immédiatement le bon codec sur les serveurs Microsoft, le trouve et l'installe avant de lire convenablement la vidéo. QT, quant à lui, affiche un message d'erreur et renvoie vers une page sur le site d'Apple qui contient une dizaine de codecs commerciaux exotiques, destinés aux professionnels de la vidéo, et très chers. Au final, QT ne pourra pas lire votre fichier, alors que WMP qui ne le pouvait pas à l'origine s'est débrouillé en 20 secondes pour au final le pouvoir. Je n'ai pas l'habitude de faire l'apologie des produits Microsoft et de stigmatiser les produits Apple, tant j'admire OS X et Safari et tant je déteste Windows et Internet Explorer, mais force est d'admettre que WMP est infiniment supérieur à QT.</p>
<p>Mis à part cela, les rares fois où QT arrive à lire une vidéo (avec le son!), ce n'est pas pour autant qu'il la lit bien. Les deux problèmes majeurs que j'ai pu identifier se classent en deux catégories que j'appellerai les problèmes relatifs à la vidéo elle-même, et les problèmes relatifs au fonctionnement du logiciel. Dans la première catégorie, on trouve les problèmes habituels inhérents à tout mauvais lecteur: dès lors que le fichier n'est pas parfaitement encodé avec un codec commercial et qui n'est pas trop destructeur de qualité, QT affiche un résultat désastreux. La lecture souvent saccadée. Elle saute. Le déplacement grâce à la "timeline" (ligne de temps) détruit souvent l'image pendant de longues secondes (comme si cette image était une toile dont la peinture n'est pas encore sèche, et qu'on ait frotté cette toile dans tous les sens). Et puis les couleurs sont trop sombres. Dans la seconde catégorie, les problèmes relatifs au logiciel lui même. Le premier point est le comportement des boutons retour rapide et lecture rapide: QT essaye de faire comme un magnétoscope, une lecture en continu (en "live"), et c'est un échec lamentable. Ce type de lecture n'est pas possible pour des vidéos sur ordinateur, à moins d'avoir une machine très puissante et, bien entendu, un fichier encodé "proprement". On préférera donc la solution de l'excellent <a href="http://www.videolan.org/vlc/">VLC</a> qui opère par petits sauts en avant ou en arrière. Avec VLC, on "saute" 5 secondes plus loin dans la vidéo, mais on "saute" instantanément. Avec QT, on appuie sur avance rapide, ça commence bien, et puis 3 secondes plus tard ça "gèle" pendant 10 secondes et on se retrouve 5 minutes plus loin dans le film. De même pour la "timeline": celle de VLC est très réactive (comme celle de WMP), alors que l'utilisation de celle de QT "gèle" ("freeze") souvent le logiciel pendant plusieurs secondes. Et parce que ce n'est pas suffisant, il arrive même que QT "gèle" tout seul comme un grand, au cours de la lecture d'une vidéo, sans que personne n'ait touché à rien. Du coup, si l'on n'appuie pas sur pause très vite (barre d'espace), on se retrouve encore une fois 5 minutes plus loin dans le film. Cela n'arrive absolument pas avec les autres lecteurs. Et ça ne devrait pas arriver avec mes 1,5 Go de RAM...</p>
<p>QuickTime est un mauvais produit en ce qu'il ne remplit pas ses objectifs. Ce n'est définitivement pas un bon lecteur vidéo, et ce n'est pas un lecteur vidéo pour "monsieur tout le monde". Ce n'est pas le couteau suisse de la vidéo comme le sont VLC et WMP. C'est pourtant ce que l'on attend de lui.</p>
<p>J'en reviens un peu à WMP pour aborder maintenant un aspect plus subjectif. C'est extrêmement difficile à expliquer, c'est une sensation difficilement descriptible. Voilà: j'ai l'impression que QT est "rigide". J'ai l'impression de me retrouver face à un bloc de marbre, froid, inerte et massif. C'est dû à son interface et à son comportement. Il me semble qu'Apple dessine un ligne droite que l'utilisateur doit suivre, que ce logiciel ne supporte aucune contradiction et qu'il est impossible de sortir de ce chemin tracé par ses développeurs. On le fait "comme ça", ou on ne le fait pas. A cet égard, WMP ne paraît beaucoup plus souple: on peut faire beaucoup de choses, de différentes manières. L'interface est aussi plus chaleureuse. Plus désordonnée, mais plus pratique, plus réactive. Elle est moins raide. C'est là qu'intervient iTunes: c'est la même chose de ce côté là. Au départ, j'adorais iTunes. Et puis j'ai découvert <a href="http://amarok.kde.org/">AmaroK</a>, le lecteur MP3 intégré à KDE, l'environnement graphique le plus utilisé sous Linux. C'est exactement le même problème entre iTunes et AmaroK qu'entre QT et WMP. D'un côté un logiciel qui manque de vie, qui manque de couleurs ; et de l'autre un logiciel certes imparfait, mais qui donne beaucoup plus envie d'être utilisé. J'ai l'impression qu'Apple nous enferme dans un paysage antique de désolation où se succèdent les imposants monuments épurés en pierre blanche, alors que le paysage de WMP et d'AmaroK est plus coloré, plus bouillonnant, plus exubérant, plus vivant... Ceux qui ressentent cela comprendront, ceux qui ne le ressentent pas ne le comprendront pas (et, remarque, tant mieux pour eux). Il est cependant possible d'expliquer ce phénomène d'une manière relativement simple. Les concepteurs d'un système d'exploitation et des logiciels nécessaires qui vont avec ont un choix à faire: privilégier la facilité d'utilisation au détriment des possibilités de personnalisation et paramétrage, ou l'inverse. Apple a choisi l'extrême de la facilité d'utilisation, ce qui implique que de nombreuses fonctions avancées sont absentes des logiciels Mac. Linux a choisi l'extrême personnalisation, les logiciels étant parfois très complexes à utiliser (pour ceux qui arriveront à passer le cap de la compilation...). Microsoft a choisi l'intermédiaire. A mon avis, Microsoft a pour une fois raison. Mais ce n'est qu'un avis. Il n'est demeure pas mois qu'iTunes est, lui, un bon logiciel qui permet de faire beaucoup de choses, bien qu'on constate que de nombreux plugin soient nécessaires pour avoir l'équivalent de fonctions présentes depuis longtemps dans AmaroK.</p>
<p>Pour finir, le fait que QT n'est plus intégré aussi bien intégré au système qu'avant. C'est à mon sens assez anecdotique, mais je voulais faire le tour de mes griefs contre QT dans cet article. Sous Mac OS 9, lorsqu'un cliquait sur une image, elle s'ouvrait instantanément à l'écran dans une simple fenêtre. De même pour une vidéo. Si on ne faisait pas attention, on ne remarquait même pas que QT était utilisé pour lire une telle vidéo. On pouvait aisément penser que le système la lisait tout seul, sans avoir recours à un logiciel tiers. C'était vraiment parfait comme intégration. Maintenant, l'icône de QT doit accomplir tout un cérémonial de rebondissements dans le dock, et ouvrir poussivement sa fenêtre massive en métal brossé (soit dit en passant, quelle horreur ce métal brossé !). De même pour les images: il faut qu'Aperçu ("Preview") se lance. Je ne comprend pas vraiment pourquoi un tel retour en arrière, mais admettons puisque ce n'est pas si grave. Peut-être Apple craint-elle qu'une telle intégration au système lui vaille un procès, à l'instar de Microsoft ? Non, Apple fait ce que Microsoft a fait, et sans honte. Et de toute manière, QT est tellement mauvais qu'il n'est pas prêt de faire obstacle à la concurrence -gratuite...</p>
<p>Et vous, vous en pensez quoi ?</p>
<p>A Paris, le 28 novembre 2005.</p>
