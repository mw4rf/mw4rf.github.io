<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">

  <title>Bien utiliser sa mule (eDonkey/eMule)</title>
  <meta name="description" content="Le réseau "edonkey" est sans aucun doute le réseau de P2P le plus répandu dans le monde. Les sites qui fournissent tutoriels, ressources, téléchargements, pl...">
  <link href="/public/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  
  <!-- Twitter Bootstrap -->
  <link rel="stylesheet" href='/assets/bootswatch/yeti.min.css'>
  <!-- Font Awesome -->
  <link rel="stylesheet" href='/assets/font-awesome/css/font-awesome.min.css'>
  
  <link rel="stylesheet" href="/css/main.css">
  
  
  <link rel="canonical" href="http://www.valhalla.fr/2004/09/05/bien-utiliser-sa-mule-edonkeyemule/">
  <link rel="alternate" type="application/atom+xml" title="Valhalla.fr" href="http://www.valhalla.fr/feed.xml" />
</head>


  <body>

    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container-fluid">
    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://www.valhalla.fr">Valhalla.fr</a>
    </div>

    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      
      <ul class="nav navbar-nav">
        
          
            <li>
            <a href="http://www.valhalla.fr/about.html">À Propos</a>
          
          </li>
        
          
            <li>
            <a href="http://www.valhalla.fr/revue/">Revue</a>
          
          </li>
        
          
            <li class="dropdown">
              <a href="http://www.valhalla.fr" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown">Archives <i class="caret"></i></a>
              <ul class="dropdown-menu">
              
                <li><a href="http://www.valhalla.fr/articles-essentiels/">Articles essentiels</a></li>
              
                <li><a href="http://www.valhalla.fr/archives/index.html">Archives chronologiques</a></li>
              
                <li><a href="http://www.valhalla.fr/archives/categories.html">Catégories</a></li>
              
                <li><a href="http://www.valhalla.fr/archives/tags.html">Tags</a></li>
              
              </ul>
          
          </li>
        
          
            <li class="dropdown">
              <a href="http://www.valhalla.fr" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown">Divers <i class="caret"></i></a>
              <ul class="dropdown-menu">
              
                <li><a href="http://www.valhalla.fr/outils/">Outils</a></li>
              
                <li><a href="http://www.valhalla.fr/java/">Java</a></li>
              
              </ul>
          
          </li>
        
      </ul>
      
      <!-- Google Custom Search Engine -->
      <form action="http://www.google.com/cse" id="cse-search-box" _lpchecked="1" class="navbar-form navbar-right" role="search">
        <input type="hidden" name="cx" value="007528237610497066360:tooxybveeoo">
        <input type="hidden" name="ie" value="UTF-8">
        <input name="siteurl" type="hidden" value="http://www.valhalla.fr">
        <input name="ref" type="hidden" value="">
        <input name="ss" type="hidden" value="">
        <div class="input-group input-group-sm">
          <input type="text" class="form-control" name="q" style="background: url(http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif) 0% 50% no-repeat rgb(255, 255, 255);">
        </div>
      </form>
      <!-- END Google Custom Search Engine -->
            
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

    <div class="page-content container-fluid">
      <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10">
          <div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-9 col-xs-12">
      <div class="page-header">
        <h1>
          Bien utiliser sa mule (eDonkey/eMule)
          <small>Sep 5, 2004 • GF</small>
        </h1>
      </div>
      
      <div class="text-content"><p>Le réseau "edonkey" est sans aucun doute le réseau de P2P le plus répandu dans le monde. Les sites qui fournissent tutoriels, ressources, téléchargements, plug-ins, astuces, forums, etc. existent par milliers, et dans toutes les langues. Cependant, la question la plus souvent posée dans tous les forums e-donkey confondus est la suivante "Comment faire pour télécharger plus vite ?". Cet article a pour but de répondre à cette question.</p>
<p><strong>NB: cet article a été mis à jours plusieurs fois. <s>Le texte devenu obsolète est barré.</s> <em>Le nouveau texte est en italique.</em></strong></p>
<p><em>NB 2 : le téléchargement de fichiers protégés par les droits d'auteur est illégal. Cet article a pour but de vous expliquer les aspects techniques de la configuration d'une connexion internet et d'un logiciel informatique pour l'accès à un réseau de P2P eDonkey/eMule. Il ne vous incite en aucun cas à télécharger des fichiers de manière illégale.</em></p>
<p>Pour les pressés, voici d'abord une version courte qui résume toutes les étapes pour bien exploiter le réseau eDonkey/eMule, puis, pour ceux qui veulent comprendre "le pourquoi du comment" et pour ceux qui n'arrivent pas à effectuer les procédures décrites dans la version courte, la version longue qui détaille toutes les étapes.</p>
<p><strong><u>Sommaire</u></strong><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Partie 1: <a href="#courte">La version courte</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Partie 2: <a href="#longue">La version longue</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1. <a href="#1">Choix du client</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2. <a href="#2">Paramétrage de la connexion Internet</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A. <a href="#2A">Ouverture des ports dans le Firewall</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B. <a href="#2B">Redirection des ports par le routeur</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C. <a href="#2C">Attribution d'une IP fixe</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D. <a href="#2D">Test</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3. <a href="#3">Paramétrage du client</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4. <a href="#4">Choisir le serveur</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5. <a href="#5">Bien utiliser le logiciel</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6. <a href="#6">(Annexe) Partager pour mieux télécharger ?</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7. <a href="#7">(Annexe) Sécurité et filtrage des serveurs</a></p>
<p><a name="court"></a><br />
<center><br />
<h1><u>La version courte</u></h1>
<p></p>
<ol>
<li><u>Choisir un bon client</u>. Sous Windows, le meilleur client est actuellement <a href="http://www.emule-project.net/">eMule</a>. Sous Linux et sous Mac OS X, le meilleur client est <a href="http://www.amule.org/">aMule</a>. Téléchargement direct : [<a href="http://www.amule.org/files/files.php?cat=30">Mac OS X</a>] (Panther et Tiger UB) ; [<a href="http://www.amule.org/files/files.php?cat=36">Linux</a>].</li>
<li><u>Choisir un bon serveur</u>. Je vous conseille de télécharger une liste à jour des meilleurs serveurs. Il s'agit d'un fichier ".met" à insérer dans e/aMule : [<a href="http://www.google.com/search?ie=utf8&amp;oe=utf8&amp;q=server+.met">rechercher un fichier .met</a>] [<a href="http://www.gruk.org/list.php">liste de serveurs fiables</a>].  Dans le logiciel, vous pouvez trier les serveurs par nombre de connectés ou par nombre de fichiers disponibles et vous connecter au premier ou au deuxième de la liste.</li>
<li><u>Utiliser une IP locale statique</u>. Vous ne devez pas être connecté en DHCP (sauf si votre routeur est capable d'assigner toujours la même IP à un périphérique en fonction de son adresse MAC). Il vous faut donc une IP locale statique. La procédure est décrite ici : [<a href="http://www.portforward.com/networking/static-Mac10.4.htm">Mac OS X</a>] [<a href="http://www.portforward.com/networking/static-xp.htm">Windows XP</a>] [<a href="http://www.portforward.com/networking/static-vista.htm">Windows Vista</a>]</li>
<li><u>Rediriger les ports.</u> Choisissez d'abord une plage de 3 ports non-utilisés par un autre service : p. ex. 8080-8082. Rendez vous dans l'interface d'administration de votre routeur et redirigez ces ports en TCP et en UDP vers l'adresse IP locale de l'ordinateur sur lequel e/aMule sera utilisé (étape précédente). Pour connaître la procédure à suivre, reportez-vous au manuel de votre routeur ou allez voir <a href="http://www.portforward.com/english/routers/port_forwarding/routerindex.htm">le site PortForward</a> qui décrit en image la procédure pour de nombreux routeurs. Pour vérifier que cela fonctionne, lancez e/aMule et <b><a href="http://asgard.valhalla.fr/nat.php">effectuez ce test</a></b> ou <a href="http://www.amule.org/testport.php">celui-ci.</a></li>
<li><u>Configurer le logiciel en fonction de la bande passante disponible</u>. A titre d'exemple, dans aMule, les paramètres pour une connexion 10 Méga download / 1 Méga upload sont les suivants :<i><br />
Réception: <u>0</u> (= illimité)<br />
Emission: <u>40</u><br />
Allocation de slots: <u>30</u><br />
Max de sources par fichier &gt; Limite dure: <u>1500</u><br />
Limites de connexion &gt; connexions maxi: <u>3000</u><br />
Nouvelles connexions maxi par 5 secondes: <u>50</u><br />
Taille du tampon: <u>1.080.000</u><br />
Taille de la file d’attente d’émission: <u>2000</u> (voire moins)<br />
</i></li>
<li><u>Bien utiliser le logiciel</u>. Reportez vous à la <a href="#5">section #5</a> ci-dessous.</li>
</ol>
<p><a name="long"></a><br />
<center><br />
<h1><u>La version longue</u></h1>
<p></p>
<p><a name="1"></a></p>
<h2>#1 - Choix du client</h2>
<p>Le choix du client est une étape importante: choisissez un client, et n'en changez plus. "Client" par opposition à "serveur" désigne le logiciel qui vous permet d'accèder au réseau edonkey. Les clients les plus connus sont eDonkey2000 et eMule, il en existe cependant d'autres comme <s>Shareazaa (que je déconseille vivement) ou mldonkey/mlmac sur OSX, ou</s> <em>(ces deux logiciels sont morts et enterrés)</em> l'excellent aMule qui est développé sur plusieurs plateformes. eDonkey2000 porte le nom du réseau, et pour cause, c'est "son" réseau, cependant c'est un logiciel <s>vieillissant que moins en moins de monde utilise</s> abandonné. <i>eDonkey est mort ! Ses développeurs l'ont récemment abandonné, par peur des représailles de la MPAA et RIAA</i>.</p>
<p>Je vous recommande donc tout naturellement le meilleur: eMule. Vous pourrez le trouver ici : http://www.emule-project.net/. Cependant, il existe de nombreux “mods” pour eMule, c’est à dire des logiciels tiers qui reprennent les fonctions de eMule pour en rajouter de nouvelles. Attention à cs logiciels: ils modifient le coeur du programme, et ça peut aussi bien être bénéfique que catastrophique. Si vous n’êtes pas un “bidouilleur” dans l’âme, et que vous n’avez pas envie de vous embêter avec ça, prennez la version normale d’eMule.</p>
<p><em>[<u>Explication technique</u>]</em><br />
<em>Quand je dis que le résultat de l'utilisation des mods pour emule peut être "catastrophique", je veux dire que ces logiciels dérivés peuvent engendrer des débits très lents, ne pas pouvoir se connecter sur certains réseaux, ou carrément ne pas fonctionner. Il y a plusieurs raisons à cela. 1) eMule est un logiciel développé par de nombreuses personnes très compétentes et testé par une immense communauté d'utilisateurs ; ce n'est pas le cas de tous les mods qui peuvent avoir été élaborés "à la va-vite". 2) Certains mods se présentent comme des alternatives à eMule, qui permettent de "booster" les vitesses de transfert. Comment peuvent-ils accélérer les transferts ? En modifiant le coeur d'eMule pour le rendre plus "agressif". Certains de ces logiciels vont même jusqu'à dissocier l'upload du download, ou à permettre à l'utilisateur de désactiver complètement l'upload. Conséquence : les serveurs sérieux les bannissent. Si votre client est banni, vous ne pouvez pas vous connecter au serveur et vous ne pouvez pas télécharger.</em></p>
<p>Si vous êtes sous Linux ou Mac, mon choix se porte tout naturellement vers l’excellent aMule (disponible pour PPC et x86). Pour Mac, téléchargez la version CVS: c’est par ici.</p>
<p>N’oubliez pas de mettre à jour votre logiciel de temps en temps. Les nouvelles versions se succèdent en général assez rapidement dans le monde du P2P.</p>
<p><a name="2"></a></p>
<h2>#2 - Paramétrage de la connexion internet</h2>
<p>Ce que vous devez savoir, c'est qu'il faut "nettoyer" la route entre le serveur et vous, le client. Choisissez donc les ports que vous allez utiliser dès maintenant. Par défaut, il s'agit des ports 4661 TCP et 3000 UDP. Je vous conseille de changer: il est de notoriété publique que ce sont des ports de P2P... il vaut mieux changer ! Je prendrai ici comme exemple les ports 8000 à 8005 TCP et 8006 à 8010 UDP.</p>
<p><em>[<u>Explication technique</u>]</em><br />
<em>Beaucoup d'opérateurs bloquent les ports par défaut des logiciels P2P. Un utilisateur peut donc configurer ton ordinateur et son routeur de manière correcte, être toujours en LowID, et s'arracher les cheveux en ne trouvant pas d'où vient le problème, avant de se rendre compte que le port est bloqué par le provider. Plus incidieusement, certains providers ne bloquent pas le port, pour faire croire à l'internaute que tout va bien, mais le brident, ce qui a pour effet de réduire considérablement les vitesses de transfert. Et puis les providers peuvent aussi suivre le trafic sur ce port, pour savoir quels sont leurs abonnés qui utilisent les réseaux de P2P ; en changeant de port, le suivi est beaucoup plus difficile. Bref, changer les ports par défaut n'est pas obligatoire, tous les providers ne les filtrent pas, mais dans le doute ça ne coûte rien de le faire.</em></p>
<p><a name="2A"></a><br />
<strong>A) OUVERTURE DES PORTS DANS LE FIREWALL</strong><br />
Vous devez en premier lieu paramétrer votre firewall, si vous en avez un (c'est recommandé !), pour autoriser toutes les connexions à eMule, entrantes et sortantes, sur les ports que vous avez choisis.</p>
<ul>
<li>Pour Windows, reportez-vous au manuel de votre Firewall. Vous pouvez aussi consulter le site <a href="http://www.firewall-net.com/fr/">Firewall.net</a>.</li>
<li>Pour Linux, allez voir sur <a href="http://lea-linux.org/cached/index/Reseau-secu-firewall.html">Léa Linux</a> ou <a href="http://www.firewall-net.com/fr/linux/index.php">Firewall.net</a>.</li>
<li>Pour Mac OS X, sous réserve d'avoir installé un logiciel tiers, allez dans le <em>menu Pomme &gt; Préférences Système &gt; Partage &gt; (onglet) Coupe-Feu &gt; Nouveau...</em> &gt; Remplissez les champs (avec les ports à rediriger).</li>
</ul>
<p><a name="2B"></a><br />
<strong>B) REDIRECTION DES PORTS PAR LE ROUTEUR</strong></p>
<p>Nous allons maintenant parler de la configuration des routeurs. Si vous êtes connecté directement à internet (= sans routeur), vous pouvez passer directement <a href="#3">à la section #3</a>.</p>
<p>De plus en plus de monde se connecte à internet par wi-fi, donc en passant forcément par un routeur. Les routeurs font aussi office de firewall et bloquent par défaut les connexions entrantes vers votre ordinateur. Quand vous vous connectez à un serveur avec eMule, le serveur vous "ping", c'est-à-dire qu'il vous demande "êtes vous bien là?", et votre ordinateur ne peut pas lui répondre qu'il est bien là, car le routeur a intercepté et bloqué le "ping" qui lui était destiné.<br />
Tout cela est géré par une série de règles appelées "les politiques NAT". <strong>Pour plus de renseignements à ce sujet ou si vous utilisez une LiveBox Sagem, vous pouvez lire la partie sur la mise en place du "port forwarding" dans l'article sur <a href="http://blog.gfblog.com/index.php/2005/01/05/dairport-et-de-la-livebox/#3A">Airport et la Livebox</a>.</strong></p>
<p><em>[<u>Explication technique</u>]</em><br />
<em>Pour faire simple, voici une explication sommaire. Un "routeur" a pour but de permettre à plusieurs ordinateurs de partager la même connexion. Par exemple, vous pouvez avoir chez vous votre ordinateur de bureau, votre portable et l'ordinateur des enfants connectés simultanément à internet. Lorsqu'un de ces ordinateurs tente d'accéder à un site internet, il "parle" au serveur et lui dit: "envoie moi, s'il te plaît, le contenu de ce site que je veux visiter". Le serveur lui envoie le contenu du site, parce qu'il l'a demandé. Dans le cas du P2P, le système est différent: l'ordinateur ne demande rien, il se contente de reçevoir (techniquement c'est exact, même si la formulation très schématique et la vulgarisation du mécanisme peuvent amener à penser que cette dernière information est inexacte). Le serveur envoie donc l'information vers le routeur, mais le routeur le sait pas s'il doit l'envoyer vers l'ordinateur de bureau, le portable ou l'ordinateur des enfants, précisément parce qu'aucune de ces machines n'a sollicité l'information. C'est à ce stade qu'intervient la "redirection des ports". Imaginez que vous construisez une route entre le routeur et, par exemple, votre portable. Au début de cette route, vous placez un panneau indiquant "Pour les données provenant du P2P, c'est par ici !". Ainsi, les données téléchargées par votre logiciel de P2P sont automatiquement envoyées par le routeur vers l'ordinateur désigné, en l'occurrence le portable. Rediriger les ports revient -entre autres- à indiquer au routeur la route sur laquelle il doit envoyer les informations reçues, celle qui aboutit au logiciel P2P. Comment savoir qu'une information doit aboutir au logiciel P2P ? Simplement en ordonnant au logiciel P2P de communiquer sur un ports déterminé. Ainsi, toutes les informations transitant par ce port arriveront à destination. Pour reprendre la métaphore de la route, on pourrait imaginer un immense péage, suivi de nombreux panneaux indiquant plusieurs routes ayant des destinations différentes. La route 1 aboutit à l'ordinateur de bureau, la route 2 au portable et la route 3 à l'ordinateur des enfants. Dans notre exemple, il faudra donc que l'information passe par la route 2: il faudra rediriger le port n°2. Pour finir, une dernière précision: le routeur est assez hermétique dans son langage. Il utilisera plus volontiers des "adresses", c'est-à-dire des suites de nombres du type 121.0.0.2 ou, que des nombre intelligibles tels que "portable" ou "ordinateur des enfants".</em></p>
<p><em>Tout ce qui est dit ci-dessus est également valable si vous n'avez qu'un seul ordinateur, dès lors que vous êtes connecté en wifi... Je sais, ce n'est pas logique (en fait si, mais on a dit qu'on ferait simple). Cependant, si vous n'avez qu'un seul ordinateur, vous pouvez <u>démilitariser (DMZ)</u> votre routeur pour diriger tous les ports vers l'IP locale de cet ordinateur. Je <u>déconseille</u> de réaliser cette opération, sauf si c'est absolument nécessaire, car cela revient à ouvrir l'accès depuis l'extérieur --Internet-- à des services non définis, ce qui est potentiellement dangereux. Les routeurs bloquent en effet le traffic depuis les ports non redirigés ; rediriger tous les ports revient à tous les ouvrir. Il vaut mieux, dans ce cas, avoir un bon firewall logiciel.</em></p>
<p><em>Lorsque le "ping" n'arrive pas à destination, c'est soit que le port n'est pas rediriger (= la route est obstruée), soit que la redirection est mauvaise (= l'information n'a pas emprunté la bonne route).</em></p>
<p>La conséquence immédiate de l'échec du ping est l'attribution d'un LowID par le serveur à votre client. Pour résumer: LowID = ça télécharge très mal, HighID = ça télécharge très bien. Il faut donc éviter à tout prix d'avoir un LowID. Certains serveurs - les meilleurs- vont même jusqu'à refuser toute connexion aux clients ayant un LowID.</p>
<p>Pour éviter tout cela, il faut paramétrer son routeur. Reportez vous à son manuel pour savoir comment vous connecter au logiciel d'administration. Pour les routeurs Netgear par exemple, il faut lancer son navigateur internet et se rendre à l'adresse http://192.168.0.1, puis taper admin comme login et password comme mot de passe. Pour les LiveBox, c'est http://192.168.1.1/ avec "admin" comme nom d'utilisateur et mot de passe par défaut. Si vous avez perdu le manuel (c'est bête !), allez faire un tour sur le site <u><strong><a href="http://portforward.com/routers.htm">PortForward.com</a></strong></u> qui décrit la procédure (captures d'écran à l'appui) pour de nombreux routeurs.</p>
<p>Une fois rendu dans le logiciel d'administration de votre routeur, vous allez devoir "rediriger le port par défaut d'eMule", autrement dit vous allez paramétrer votre routeur pour qu'il sache que toutes les connexions qui se font sur un certain port sont destinées à votre ordinateur, et qu'il ne faut pas les bloquer <em>(cf. les explications ci-dessus et la métaphore des routes)</em>.</p>
<p>Reportez vous encore une fois au manuel de votre routeur pour savoir comment paramétrer la redirection de port ou "port forwarding" <em>(ou "port-mapping" ou "port triggering" ou "politiques NAT", etc... le nom de cette fonction peut changer selon les constructeurs)</em>. Une fois que vous aurez trouvé, utilisez les valeurs des ports que vous avez choisis: ici, ports 8000-8005 en TCP et 8006-8010 en UDP. Le tiret (-) entre les ports signifie que tous les ports entre les deux désignés, et y compris les deux désignés, seront redirigés. Il s'agit d'une "plage" de ports. A noter que <strong>cela n'a strictement rien à voir avec le port utilisé par le serveur</strong>. La confusion vient du fait que bon nombre de serveurs connus utilisent le même port (4661) que celui par défaut d'e/aMule. Vous devez rediriger le port choisi dans les paramètres de votre client, pas le port du serveur !</p>
<p>Il faut répéter cette dernière information. On peut lire bien trop souvent que l'utilisateur doit rediriger le port indiqué par le serveur. C'est une ineptie ! Choisissez un port, comme vous le sentez, et n'en changez plus. Ne faites pas attention au port utilisé par le serveur (et malencontreusement indiqué dans la liste des serveurs, pour la plus grande confusion des débutants), il n'a aucune importance pour ce qui nous occupe.</p>
<p>Ne vous laissez pas embrouiller par l'apparente complexité de ces paramétrages: vous devez spécifier les ports à ouvrir (voir ci-dessus) et l'adresse IP vers laquelle le flux doit être redirigé. L'IP l'adresse assignée par le routeur à votre ordinateur (dans le cas des Netgear c'est par défaut une adresse comprise entre 192.168.0.2 et 192.168.0.9, reportez vous au manuel de votre routeur pour connaitre la configuration appropriée une fois de plus ; <em>cf. les explications plus haut: cette adresse permet d'identifier un ordinateur au sein de votre réseau</em>). Cette adresse IP est appelée "adresse interne" ou "IP WAN" (Wifi) ou "IP LAN" (ethernet). Elle est invisible depuis l'extérieur (depuis internet), et c'est cette invisibilité qui vous protège et fait office de firewall.</p>
<p><a name="2C"></a><br />
<strong>C) ATTRIBUTION D'UNE IP FIXE</strong></p>
<p>Nous avons redirigé les ports utilisés par e/aMule vers notre ordinateur identifié par son adresse IP sur le réseau local. Le problème c'est que la plupart des routeurs grand public sont configurés par défaut pour faire office de <u>serveurs DHCP</u>, c'est-à-dire qu'ils assignent une adresse IP aléatoire aux périphériques qui se connectent, en fonction des adresses disponibles. Et les systèmes d'exploitation (Windows, OS X, la plupart des distributions Linux) sont configurés par défaut pour se voir assigner à chaque connexion une adresse IP par un serveur DHCP.</p>
<p>Il faut donc faire en sorte que l'ordinateur sur lequel tourne e/aMule se voit toujours assigner la même adresse IP, celle vers laquelle les ports sont redirigés. Il y a pour cela 3 méthodes.</p>
<p>1. <u>La première méthode</u> consiste à désactiver le serveur DHCP du routeur et à paramétrer le réseau entier en IP fixes. Je vous déconseille cette méthode, sauf si vous savez que c'est la seule qui convient (dans ce cas, vous êtes un expert en réseaux, et vous n'avez pas besoin de lire ceci...).</p>
<p>2. <u>La deuxième méthode</u> consiste à paramétrer le routeur pour qu'il assigne toujours la même adresse IP locale W/LAN à un ordinateur identifié par l'adresse MAC (rien à voir avec les Apple Macintosh) de sa carte réseau. Les résultats de cette procédure étant parfois aléatoires (et donc pas très fiables), je vous conseille de l'éviter sauf, encore une fois, si vous savez ce que vous faites.</p>
<p>Pour les routeurs NetGear, par exemple, il faut aller dans l'<em>interface d'administration (http://192.168.0.1) &gt; Wireless Settings &gt; Setup Access List</em>.</p>
<p>Pour obtenir l'adresse MAC de votre périphérique, vous pouvez <a href="http://www-dcn.fnal.gov/DCG-Docs/mac/index.html">consulter ce site</a> ou :</p>
<ul>
<li><u>sous Windows</u> : <em>Démarrer &gt; Exécuter &gt; Tapez "cmd"</em> (sans les guillemets). Dans la fenêtre qui s'ouvre, tapez <em>ipconfig/all</em>.</li>
<li><u>sous Linux</u> : ouvrez un terminal et tapez <em>sudo ipconfig</em>.</li>
<li><u>sous Mac</u> : menu <em>Pomme &gt; Préférences système &gt; Réseau &gt;</em> double-cliquez sur la connexion active (identifiée par une pastille verte) &gt; onglet <em>AirPort</em> (connexion Wifi) ou <em>Ethernet</em> (connexion Ethernet).</li>
</ul>
<p>3. <u><strong>Méthode conseillée</strong></u>. Il s'agit de paramétrer votre ordinateur pour qu'il demande toujours la même adresse IP locale au routeur lorsqu'il s'y connecte. La procédure est la suivante:</p>
<ul>
<li><u>sous Windows</u> :  allez voir le site PortForward pour [<a href="http://www.portforward.com/networking/static-xp.htm">Windows XP</a>] ou [<a href="http://www.portforward.com/networking/static-vista.htm">Windows Vista</a>] ou [<a href="http://www.portforward.com/networking/staticip.htm">Windows NT/2000/98/ME</a>]</li>
<li><u>sous Linux</u> : utilisez le centre de configuration de votre distribution ou consulter les forums Linux (il y a plusieurs méthodes, notamment 1) en configurant <em>iwconfig <adresse></adresse></em> ; 2) en éditant <em>/etc/networking/interfaces</em> (K/Ubuntu) ; 3) en créant un script de connexion qui utilise toujours la même adresse, p. ex. <em>ifconfig <adresse> up</adresse></em>)</li>
<li><u>sous Mac OS X</u> : Allez dans le <em>menu Pomme &gt; Réseau &gt; double-cliquez sur la connexion active (identifiée par une pastille verte) &gt; (onglet) TCP/IP</em>. Recopiez la valeur en face de "Routeur". Placez le menu déroulant "Configurer IPv4" sur <em>Manuellement</em>. Entrez l'adresse IP désirée dans le champ de texte en face de "Adresse IP". Recopiez l'adresse du routeur dans les champs en face de "Routeur" <strong><u>et</u></strong> Serveurs DNS. Appliquez les changements. <em>La procédure est aussi décrite ici : [<a href="http://www.portforward.com/networking/static-Mac10.4.htm">Mac OS X</a>]</em></li>
</ul>
<p><a name="2D"></a><br />
<strong>D) TEST</strong><br />
Pour tester si cela fonctionne, vous pouvez effectuer <strong><a href="http://asgard.valhalla.fr/nat.php">ce test</a></strong>.</p>
<p><a name="3"></a></p>
<h2>#3 - Paramétrage du client</h2>
<p>Vous pouvez laisser l'assistant, au premier lancement du logiciel, définir pour vous les valeurs adaptées à votre connexion. Cela fonctionne en général assez bien (eDonkey, eMule). Dans certains cas, ça fonctionne très mal (aMule) et l'assistant définit des valeurs beaucoup trop basses pour votre connexion.</p>
<p>De plus, il faut savoir que l'ADSL en France est différent de l'ADSL dans la plupart des autres pays du monde (inclus d'Europe): il est moins cher et plus rapide. Et les assistants n'ont pas évolué avec l'augmentation des débits de l'ADSL. Cet article a été écrit en septembre 2004, et il est mis à jour aujourd'hui en décembre 2005. En un an, la situation a beaucoup évolué, et la vitesse moyenne d'une connexion ADSL n'est plus entre 256Kbs et 1Mbs, mais entre 8 et 18 Mbs. C'est l'ADSL 'Max' qui est arrivé !</p>
<p>Je veux donc vous donner quelques indications précises sur les valeurs à insérer. Je prendrai l'exemple d'aMule. Gardez à l'esprit que vous devez adapter les valeurs données à votre connexion (elles sont là à titre indicatif, pour vous donner une base de comparaison), et que celles-ci seront les mêmes quel que soit le client que vous utilisez (sauf peut être les données "core").</p>
<p><b>Base de référence:</b><br />
J'utilise une connexion 8Mbs en débit descendant (download) et 1Mbs en débit ascendant (upload).</p>
<p><b>Données dans aMule:</b><br />
<i>Connexion &gt; Limites de la bande passante</i></p>
<p><i>Réception</i>: 0 (= illimité)<br />
<i>Emission</i>: 40<br />
<i>Allocation de slots</i>: 30</p>
<p>Emission+allocation doit être un peu inférieur à la capacité d'upload de la connexion, pour pouvoir continuer à utiliser d'autres logiciels qui nécessitent une connexion internet, sans s'arracher les cheveux. L'allocation des slots est très importante, puisque si le débit est trop bas, le logiciel ne gèrera pas efficacement les files d'attente. C'est même à ce titre plus important que la vitesse d'émission.</p>
<p><i>Connexion &gt; capacités de la ligne</i><br />
Ce n'est que pour les stats, données impertinentes.</p>
<p><i>Max de sources par fichier &gt; Limite dure</i>: 1500<br />
<i>Limites de connexion &gt; connexions maxi</i>: 3000</p>
<p>Pour ceux deux valeurs, on peut mettre un peu moins, ça ne nuira pas. Il ne faut cependant pas tomber dans l'extrême des valeurs par défaut qui sont souvent ridicules (genre 500 connexions... clairement insuffisant si on a 15 téléchargements en cours).</p>
<p><u>Tweaks centraux</u><br />
<i>Nouvelles connexions maxi par 5 secondes</i>: 50<br />
(Très important, par contre ne pas mettre beaucoup plus, sinon ça serait contre productif, et adieu la bande passante)<br />
<i>Taille du tampon</i>: 1.080.000<br />
<i>Taille de la file d'attente d'émission</i>: 2000 (voire moins)</p>
<p><b>Si vous avez une connexion différente...</b></p>
<p>Pour calculer les valeurs à placer dans "Émission" et "Réception", il faut prendre les caractéristique de bande passante de votre ligne, en MégaOctets, les multiplier par 1000, les diviser par 8, et leur soustraire 20% de leur valeur.</p>
<p>Exemple : j'ai 10 Mégas de bande passante.<br />
10 * 1000 = 10.000<br />
10.000 / 8 = 1250<br />
1250 - 20*1250/100 = 1000<br />
La valeur à insérer dans e/aMule est 1000.</p>
<p>Exemple : j'ai 24 Mégas de bande passante.<br />
24 * 1000 = 24.000<br />
24.000 / 8 = 3000<br />
3000 - 20*3000/100 = 2400<br />
La valeur à insérer dans e/aMule est 2400.</p>
<p><b>Comment savoir si mes réglages sont corrects ?</b></p>
<p>Trois cas de figure qui posent problème peuvent se présenter :<br />
1) Ca ne télécharge pas assez vite<br />
2) Ca télécharge trop<br />
3) Tout va bien, mais on pourrait mieux faire</p>
<p>Dans le premier cas, la vitesse de vos téléchargements sera très basse. Vous le remarquerez tout de suite. Cela peut venir du manque de sources des fichiers téléchargés (v. plus bas) ou d'une mauvaise redirection/ouverture des ports (v. plus haut) ; mais cela peut aussi venir d'un mauvais paramétrage. Conclusion : si votre vitesse de téléchargement ou d'envoi vous apparaît vraiment trop basse, et que c'est systématique (quel que soit le fichier téléchargé), vous devez revoir vos réglages. <i>Solution : augmenter les valeurs présentées ci-dessus.</i></p>
<p>Dans le second cas, vous téléchargez/envoyez trop ! Votre bande passante est saturée. Faites le test suivant : si vous arrivez à naviguer sur Internet normalement, c'est que tout va bien. Si une fois e/aMule allumé les pages deviennent beaucoup plus longues à charger, c'est que vous avez u problème de bande passante. <i>Solution : baissez les valeurs présentées ci-dessus</i>.</p>
<p>Dans le troisième cas de figure, votre vitesse de téléchargement/envoi vous satisfait, et votre bande passante n'est pas saturée. Mais peut-être est-il possible de faire mieux ? Vous devrez pour cela optimiser vos réglages. Pour optimiser les réglages, il faut faire la chose suivante : </p>
<p>Augmenter un peu les valeurs, vérifier si la bande passante est saturée (difficultés à charger les pages Web).<br />
- Si oui : revenir aux anciennes valeurs, vos réglages sont optimaux !<br />
- Sinon : augmenter encore un peu les valeurs, et recommencer le test...</p>
<p><a name="4"></a></p>
<h2>#4 - Choisir le serveur</h2>
<p>Le choix du serveur est très important: il en existe des milliers, et seulement une dizaine de bons parmi eux.</p>
<p>Vous pourrez trouver la liste des meilleurs serveurs en cherchant sur Google 'Maurice OCB' et en téléchargeant le fichier best-server.met (ou un nom approchant). <i>La liste .met de Gruk est également fiable (elle remplace désormais celle de Maurice) : [<b><a href="http://www.gruk.org/list.php">Liste de Gruk des meilleurs serveurs</a></b>]</i>.</p>
<p>Cependant, si vous ne souhaitez pas vous encombrer avec ça, 1 seul serveur vous suffit: le meilleur. Il se chargera de mettre automatiquement votre liste à jour, avec des bons serveurs pour la plupart. <b>Attention</b>: en 2005, la MPAA et la RIAA sont passées à l'offensive contre le réseau eDonkey. Ils ont fait 2 vilaines choses: 1) émission de "fakes" (le titre du fichier ne correspond pas à son contenu, ce que vous ne pouvez savoir qu'après l'avoir téléchargé), 2) création de faux serveurs afin de récupérer les adresses IP des gens qui s'y connectent. Le serveur eDonkey le plus célèbre s'appelle Razorback II, ils ont créé des serveurs Razorback III, Razorback IV, etc... Dans ces conditions, je vous conseille vivement de désactiver la mise à jour automatique de la liste des serveurs, de sélectionner manuellement quelques serveurs sûrs, et de ne vous connecter qu'à ces serveurs. </p>
<p><s>Les deux meilleurs serveurs (et ils sont sûrs) sont Razorback II, dont l'adresse est 195.245.244.243 et le port par défaut le 4661, et son petit frère à l'adresse 195.245.244.244 sur le port 3000.</s></p>
<p>Les serveurs Razorback furent fermés le 22 février 2006, suite à une saisie du matériel par les autorités belges. Une action en justice avait en effet était intentée contre Razorback par les associations de majors. Plusieurs serveurs fiables viennent remplacer Razorback. Il n'y a plus d'énorme serveur de référence, mais quelques serveurs fiables de taille suffisante pour continuer à télécharger comme si de rien n'était. Je vous conseille ainsi:<br />
<em>DonkeyServer No1 62.241.53.2 4242</em><br />
<s>Byte Devils 64.34.165.203 5306</s> <em>(a également été fermé)</em><br />
Mais aussi les autres "DonkeyServer", <s>Chez Toff</s> <em>(idem)</em>, etc.  </p>
<p>Vous pouvez rendre ces serveurs "persistants" ou "statiques" depuis votre client: celui-ci se connectera à ses serveurs automatiquement, et ne les effacera jamais de la liste.</p>
<p><a name="5"></a></p>
<h2>#5- Bien utiliser le logiciel</h2>
<p>Là on entre dans ce qui est vraiment intéressant, car même si vous avez suivi à la lettre les conseils de configuration des 8765 sites web qui traitent du sujet, vous ne connaissez probablement pas les astuces expliquées ci-dessous.</p>
<p><u>Ne téléchargez pas trop de fichiers à la fois</u>. Avec une connexion ADSL vous pouvez télécharger 5 fichiers à la fois, avec 200 sources pour chacun et 1000 connexions en tout. Au dessus de 5 fichiers, la vitesse de téléchargement sera réduite (sans rentrer dans les détails je peux dire que 1) la vitesse est divisée en fonction du nombre de fichiers: dans une situation idéale si vous avez une capacité de 10 kbs et 2 fichiers, vous aurez une bande passante de 5 kbs par fichier, si vous n'en avez qu'un seul en téléchargement, sa vitesse sera de 10 kbs... logique. 2) votre upload sera réduit, ce qui ralentira le téléchangement (plus de détails ci-dessous). 3) si vous avez 1000 connexions au maximum, 200 sources par fichier, 5 fichiers, tout va bien, mais si vous avez 10 fichiers, ça ne fera plus que 100 sources par fichier... <i>Un an après la version originale de cet article, pour les raisons expliquée ci-avant, je vous conseille d'augmenter ces valeurs si vous avez une connexion ADSL rapide (entre plusieurs Mb/s). Pour ma connexion 8Mbs, je télécharge en général entre 10 et 20 fichiers simultanément.</i></p>
<p><u>Téléchargez des fichiers avec beaucoup de sources</u>. En effet, rien de sorcier à tout cela: si 3 personnes possèdent le fichier en question, vous n'arriverez jamais au bout si sa taille est supérieure à quelques Mo ; si 300 personnes ont ce fichier, ça ira déjà beaucoup mieux ! Ainsi, si vous cherchez un vieux film de années 50 sorti en DVD et rippé en DivX, vous aurez beaucoup de mal à l'obtenir, par contre si vous cherchez la dernière version de Photoshop, alors là dans la journée ça sera plié... Dans la plupart des clients, quand vous lancer une recherche, plus le nom du fichier est bleu <em>(ou vert, ou même rouge pour certains... rbef, tout sauf noir !)</em>, plus celui-ci a de sources. Les fichiers dont le nom reste noir sont donc à proscrire.</p>
<p><u>Définissez correctement les paramétres de l'upload</u>. C'est le plus important et c'est ce que beaucoup de gens oublient. Alors, souvenez vous: quand vous envoyez un partie d'un fichier à quelqu'un, vous aurez beaucoup plus de facilités pour obtenir des parties de ce même fichier de lui (il s'agit d'un système de "crédits": tu me donnes un peu d'un fichier, tu obtiens des crédits de moi, et si tu as des crédits de moi, je te donne un peu de mes fichiers). Les fichiers sous eDonkey sont transmis par blocs: le fichier est découpé et vous prennez un bloc chez quelqu'un, un autre bloc chez quelqu'un d'autre, etc. Vous même pendant ce temps, vous transmettez les blocs en votre possessions à d'autres utilisateurs. Par conséquent, si vous voulez accélérer le partage de 'Adobe Photoshop', n'augmentez pas que la priorité de téléchargement, mais augmentez aussi aussi la <em>priorité de partage</em> !<br />
Je répète une fois pour que ça soit bien clair: plus vous donnerez de Photoshop, plus on vous donnera de Photoshop ! Pour accélérer au maximum le téléchargement d'un fichier, suppimez ou mettez en pause tous les autres téléchargements, et videz votre dossier partagé (celui qui stocke les fichiers que vous mettez à disposition du réseau) pour n'y laisser que le fichier à télécharger rapidement.<br />
De la meme manière, réglez convenablement et une bonne fois pour toutes les limites de votre upload et de votre download (voir ci-avant pour ces paramétrages).</p>
<p><u>Ne partagez pas beaucoup de fichiers à la fois</u>. Pour les raisons d'upload expliquées ci-dessus, contentez vous de partager les fichiers que vous êtes en train de télécharger et les fichiers que vous avez téléchargés depuis quelques jours. Ne mettez surtout pas en partage votre disque dur externe qui contiene 5000 MP3, 100 divX et 300 logiciels... Si tout le monde respectait cette consigne, le réseau serait au moins 5 fois plus rapide (non, ce n'est pas une blague !). N'oubliez pas que quand vous donnez d'un fichier, vous obtenez des crédits, et que grâce à ces crédits vous pouvez obtenir du même fichier. Il est donc inutile d'obtenir des crédits d'un utilisateur qui ne partage aucun fichier que vous voulez (logique...). A l'inverse, il est utile d'obtenir des crédits de personnes téléchargeant les mêmes fichiers que vous: ils vous donneront ce qu'ils ont et que vous n'avez pas, alors que vous leur donnerez ce que vous avez et qu'ils n'ont pas.</p>
<p><u>Patientez et n'interrompez pas les téléchargements</u>. Si vous lancez vos téléchargements et que vous restez devant l'écran pour voir ce que cela donne, attendez vous à de mauvaises surprises... en effet, vous ne verrez rien pendant selon toute probabilité plusieurs heures ! Le réseau eDonkey fonctionne sur le principe de la file d'attente: le nouveau venu est placé tout en bas et il monte au fur et à mesure des départs, et la roue tourne. Par conséquent: lancez des téléchargements, et laissez votre ordinateur allumé et connecté pendant plusieurs heures d'afilée (<s>12 heures pour un divx, c'est honnête!</s> <em>Avec l'augmentation des débits, disons, 5 heures ?</em>). Si vous vous déconnectez, à votre reconnexion vous serez placé en bas de la file d'attente, alors que vous étiez en haut en train de télécharger, ça serait dommage ! (sans entrer dans les détails: ce n'est vrai que pour les longues déconnexions, donc pas de souci si votre connexion Wanadoo fait sa "déconnexion des 24 heures".)</p>
<p><u>Apprenez à exploiter les A4AF</u>. Le réseau eDonkey est ainsi construit, on ne peut obtenir qu'une seule partie d'un seul fichier, depuis le même utilisateur au même moment. Il est impossible de télécharger depuis le même utilisateur des parties de 2 fichiers différents. Prennons un exemple. Vous avez 10 fichiers: A, B, C, D, etc. Vous examinez les sources de ces fichiers, et constatez que l'utilisateur "azerty" est dans la liste des fichiers A, B et C. Cependant, il ne vous donne que des parties du fichier A, pour les fichiers B et C, il est marqué comme source inactive. Mais voilà, le fichier A est le dernier Harry Potter, qui ne manque pas de sources (sic), alors que le fichier B est un opéra de Mozart que peu de monde possède (re-sic). Vous pouvez demander à l'utilisateur "azerty" de basculer du fichier A vers le fichier B. Pour cela, clic droit sur le fichier, et utilisation de l'option du menu déroulant "Mettre tous les A4AF sur ce fichier". Tous les utilisateurs affectés à un fichier différent du fichier B, mais qui ont des parties utiles du fichier B, seront automatiquement redirigés vers le fichier B qui verra sa vitesse de téléchargement sensiblement augmentée.</p>
<p><a name="6"></a></p>
<h2>#6 - Annexe: partager pour mieux télécharger ? (technique)</h2>
<p>C'est une question qui revient de manière récurrence: faut-il partager des fichiers pour télécharger plus vite ? Voici la réponse.</p>
<p><u>Réponse 1</u>: <i>Plus on partage, plus on télécharge vite. Mais plus on partage, moins on télécharge vite.</i></p>
<p>Remarquez que cela rappelle un peu le syllogisme "<i>Plus y'a d'gruyère plus y'a d'trous, mais plus y'a d'trous moins y'a d'gruyère, donc plus y'a d'gruyère moins y'a d'gruyère !</i>". C'est tellement vrai...</p>
<p><u>Règle générale</u>: Dans un réseau edk <em>(eDonkey)</em>, un pair ne peut obtenir d'un autre pair qu'une seule partie d'un seul fichier à la fois.</p>
<p>Il suffit d'ajouter quelques mots à la première réponse pour mieux comprendre:<br />
<u>Réponse 2</u>: <i>Plus on partage d'un fichier, plus l'on peut obtenir de ce même fichier. Mais plus l'on a de fichier, plus le partage se disperse, et moins les fichiers en cours de téléchargement en profitent.</i></p>
<p><u>Illustration</u>: Je donne du fichier A à des utilisateurs X, Y et Z. Chez eux, j'obtiens des crédits. Ces crédits me servent à obtenir d'eux des parties de fichiers que je télécharge. Partant de ce postulat, 2 hypothèses: 1) je n'ai que le fichier A en partage, 2) j'ai 3000 fichiers en partage, dont le fichier A.</p>
<p><u><i>Première hytpohèse</i></u>.<br />
Si je n'ai que le fichier A en partage, et que je suis en train de télécharger ce fichier, cela veut dire deux choses: 1) toutes les personnes qui m'envoient de ce fichier en possèdent au moins une partie (non, c'est pas forcément évident...); 2) je ne peux envoyer que le fichier A, d'où le fait que toutes les personnes vers qui j'upload demandent le fichier A.</p>
<p>Il y a donc coïncidence entre l'upload et le download, sur le fichier A. Je gagne des crédits *utiles*, auprès d'utilisateurs possédant des parties du fichier A, c'est-à-dire que je pourrai utiliser ces crédits pour obtenir des parties du fichier A.</p>
<p><u><i>Deuxième hypothèse</i></u>:<br />
Je partage 3000 fichiers. Par un bête concours de circonstances, ce sont les fichiers B, C et D qui sont actuellement en cours d'upload. J'obtiens des crédits auprès des utilisateurs qui téléchargent ces fichiers. De là, deux sous-hypothèses: 1) ils ont aussi le fichier A ; 2) il n'ont pas le fichier A.</p>
<p>Dans le premier cas, tout va bien<em>: j'obtient des crédits que je vais pouvoir réutiliser pour télécharger, ils sont utiles</em>. Dans le second cas, les crédits que j'obtiens sont *inutiles* puisque je ne peux pas les réinvestir pour obtenir de mes pairs des parties du fichier A !</p>
<p>Il en ressort qu'il ne faut pas partager *trop* de fichiers.</p>
<p>On voit tout de suite la solution: ne partager que les fichiers que l'on est en train de télécharger. On est ainsi sûr que les sources d'envoi et de réception coïncideront. Mais une telle attitude va à l'encontre de la philosophie du P2P.</p>
<p>Il existe donc une autre manière de gérer les partages: <u><i>définir des priorités</i></u>. Cela se passe dans la "<i>Fenêtre des fichiers partagés</i>" (icône tiroirs bleu) dans aMule. Cette fenêtre présente la liste des fichiers actuellement en partage (qu'ils soient également en téléchargement ou pas). un clic droit sur un fichier fait apparaître un menu déroulant. Dans ce menu déroulant, il y a une section "<i>Priorité</i><i>" qui peut être réglée sur: </i><i>Très basse, Basse, Normale, Haute, Très haute, Release, Auto</i>.</p>
<p>Le principe est le suivant: <u>plus la priorité est haute, plus le fichier sera échangé</u>. Plus la priorité est basse, moins le fichier sera échangé. L'option "<i>Release</i>" correspond à la priorité maximale: elle est à choisir dans le cas d'un fichier nouveau sur le réseau, qui doit être diffusé rapidement, et qui ne possède actuellement que très peu de sources. On comprend ainsi que pour résoudre le problème, il faut mettre en priorité "<i>Très haute</i>", voire "<i>Release</i>", les fichiers en cours de téléchargement, et en priorité plus basse (ou auto) les autres fichiers.</p>
<p><u>Réponse définitive</u>: <i>Pour accélérer la vitesse de téléchargement, il faut augmenter la priorité des fichiers que l'on est en train de télécharger, pour que leur envoi vers les pairs soit préférentiel à l'envoi d'autres fichiers.</i></p>
<p><a name="7"></a></p>
<h2>#7 - Annexe: Sécurité et filtrage des serveurs</h2>
<p>Depuis quelques temps, le réseau eDk est la cible d'attaques malveillantes des majors de l'industrie musicale et cinématographique. Ces attaques se manifestent sous diverses formes. Une des formes les plus pernicieuses est la mise en oeuvre de "faux" serveurs. Lorsque vous vous connectez à l'un de ces serveurs, votre adresse IP est automatiquement enregistrée : vous êtes fiché et votre droit à la vie privée baffoué. Les "faux" peuvent être facilement identifiés : lorsqu'on effectue une recherche sur le réseau eDk depuis l'un de ces serveurs, aucun résultat n'est retourné. Le problème est qu'une fois que vous vous serez rendu compte que vous êtes connecté à un "faux" serveur, le mal sera déjà fait. Il devient donc de plus en plus nécessaire d'éviter de se connecter à ces serveurs.</p>
<p>1) <u>Filtrage des serveurs</u>. Les logiciels eMule (Windows) et aMule (Mac, Linux) contiennent un système de protection intégré, qui vous permettra d'éviter toute connexion aux serveurs malveillants. Pour activer ce système, il faut procéder comme suit:<br />
- Aller dans les préférences du logiciel, section <i>Sécurité</i>.<br />
- Cocher la case <i>Filtrer les serveurs</i> (eMule) ou <i>Activer le filtrage des IP</i> (aMule).<br />
- Entrer l'adresse suivante dans le champ de texte <i>Mise à jour à partir d'URL</i> (eMule) ou <i>Mise à jour d'IPFilter au démarrage</i> (aMule) : <b>http://www.bluetack.co.uk/config/nipfilter.dat.gz</b><br />
- Cliquer sur le bouton <i>Charger</i> (eMule) ou <i>Mettre à jour maintenant</i> (aMule) -- Patienter : la liste fait un peu plus de 2 Mo.</p>
<p>Une option vous permet également de choisir le <i>Niveau de filtrage</i>. Le niveau de filtrage devrait toujours être égal à <i>127</i>. Les listes de serveurs (comme celle indiquée ci-dessus), sont des fichiers texte contenant des <i>règles</i> ; chaque règle doit être formulée de la manière suivante : IPs range , Access level , Description<i>. </i><i>IP range</i> indique la ou les adresse(s) IP à bloquer ; <i>Access level</i> indique s'il faut <i>bloquer</i> ou <i>autoriser</i> les connexions sur cette IP ou sur cette plage d'IP. Par défaut, les listes définissent une valeur inférieure à 127 pour les adresses à bloquer et une valeur supérieure à 127 pour les adresses à autoriser. Le nombre 127 est donc le seul, qui doit coïncider dans la liste des IP à bloquer et dans les préférences d'e/aMule.</p>
<p>2) <u>Mise à jour de la liste des serveurs</u>. La deuxième chose à faire est de désactiver la mise à jour automatique de la liste des serveurs depuis des sources qui ne sont pas sûres, et activer la seule mise à jour depuis des sources sûres. La marche à suivre est la suivante :<br />
- Aller dans les préférences du logiciel, section <i>Serveurs</i><br />
- Décocher la case <i>Mise à jour de la liste des serveurs à la connexion à un serveur</i><br />
- Décocher la case <i>Mise à jour de la liste des serveurs à la connexion à un client</i><br />
- Cocher la case <i>Mise à jour de la liste des serveurs au démarrage</i> ; puis cliquer sur le bouton <i>Liste</i>. Dans la petite fenêtre qui s'ouvrira, entrer l'adresse d'une liste de serveurs sûre, p. ex. <b>http://www.gruk.org/server.met</b> ou <b>http://peerates.net/peerates/trueservers.met</b></p>
<p>3) <u>Brouillage du protocole</u>. Certains fournisseurs d'accès brident les taux de transfert d'e/aMule, ou empêchent tout simplement la connexion aux serveurs en refusant de faire circuler les données issues de ces logiciels. Pour remédier à ce problème, il faut cocher la case <i>Activer le brouillage du protocole</i> (eMule) dans la section <i>Sécurité</i> des préférences du logiciel.</p>
<p>4) <u>Identification sécurisée</u>. Chaque client sur le réseau eDk est identifié par une chaîne de caractères unique, appelée <i>user hash</i>. Cette chaîne permet d'identifier les clients et de mettre en oeuvre le système de crédits de téléchargement (v. plus haut, <a href="#6">annexe 6</a>). Par défaut, elle est diffusée en clair. Mais il est possible de la chiffrer à l'aide d'un système de clé publique et de clé privée. Pour activer le système de chiffrement, il faut cocher la case <i>Utiliser l'identification sécurisée</i> dans la section <i>Sécurité</i> (aMule, anciennes versions) ou <i>Connexion</i> (aMule, versions récentes) des préférences du logiciel.</p>
<p>C'est à peu près tout, bon téléchargement !</p>
<p>----------------------------------------------------</p>
<p>Rédigé à Montpellier le 04/09/2004<br />
<i>mis à jour le 11/12/2005 à Paris</i><br />
<i>mis à jour le 12/04/2005 à Montpellier</i><br />
<i>mis à jour le 14/05/2007 à Strasbourg</i><br />
<i>mis à jour le 28/07/2007 à Montpellier</i><br />
<i>mis à jour le 10/09/2007 à Paris</i><br />
<i>mis à jour le 27/09/2007 à Strasbourg</i></p>
</center></p></center></p>
</div>
      
      <hr>
      
      <div class="related">
        <h2>Voir aussi</h2>
        <ul style="list-style-type: none;">
        
            <li><a href="/2014/08/05/safari-raccourci-clavier-pour-affichermasquer-la-barre-des-signets/">Safari : raccourci clavier pour afficher/masquer la barre des signets</a></li>
        
            <li><a href="/2014/08/01/lancer-intellij-idea-13-mac-avec-un-jdk-oracle/">Lancer Intellij IDEA 13 Mac avec un JDK Oracle</a></li>
        
            <li><a href="/2013/01/08/ubuntu-12-10-checklist-installation/">Ubuntu 12.10 : Checklist d'installation</a></li>
        
            <li><a href="/2012/07/08/107/">Numéro 107 - Semaine du 2 au 8 juillet 2012</a></li>
        
            <li><a href="/2012/07/01/106/">Numéro 106 - Semaine du 25 juin au 1er juillet 2012</a></li>
        
            <li><a href="/2012/06/24/105/">Numéro 105 - Semaine du 18 au 24 juin 2012</a></li>
        
            <li><a href="/2012/06/16/optimiser-unity-workspaces-precise-pangolin/">Optimiser les bureaux virtuels sous Unity (Ubuntu 12.04)</a></li>
        
            <li><a href="/2012/06/11/ubuntu-software-center-tester-avant-dinstaller/">Ubuntu Software Center : tester avant d'installer</a></li>
        
            <li><a href="/2012/06/03/104/">Numéro 104 - Semaine du 28 mai au 3 juin 2012</a></li>
        
            <li><a href="/2012/05/27/103/">Numéro 103 - Semaine du 21 au 27 mai 2012</a></li>
        
        </ul>
      </div>
      
      
      <hr>
      <div class="comments">
        <div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = 'valhallafr';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
      </div>
      
      
    </div>
    <div class="col-md-2">
  </div>
</div>

        </div>
        <div class="col-md-1"></div>
      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Valhalla.fr</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Valhalla.fr</li>
          <li><a href="mailto:your-email@domain.com">your-email@domain.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/mw4rf">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">mw4rf</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/jekyllrb">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">jekyllrb</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Ad Absurdum</p>
        <p class="rss-subscribe">subscribe <a href="http://www.valhalla.fr/feed.xml">via RSS</a></p>
      </div>
    </div>

  </div>

</footer>

      <script src="/assets/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="/assets/bootstrap/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2290016-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>

</html>
