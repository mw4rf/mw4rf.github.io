<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">

  <title>Valhalla.fr</title>
  <meta name="description" content="Ad Absurdum">
  <link href="/public/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  
  <!-- Twitter Bootstrap -->
  <link rel="stylesheet" href='/assets/bootswatch/yeti.min.css'>
  <!-- Font Awesome -->
  <link rel="stylesheet" href='/assets/font-awesome/css/font-awesome.min.css'>
  git
  <link rel="stylesheet" href="/css/main.css">
  
  
  <link rel="canonical" href="http://www.valhalla.fr/archives/27/">
  <link rel="alternate" type="application/atom+xml" title="Valhalla.fr" href="http://www.valhalla.fr/feed.xml" />
</head>


  <body>

    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container-fluid">
    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://www.valhalla.fr">Valhalla.fr</a>
    </div>

    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      
      <ul class="nav navbar-nav">
        
          
            <li>
            <a href="http://www.valhalla.fr/a-propos/">À Propos</a>
          
          </li>
        
          
            <li>
            <a href="http://www.valhalla.fr/revue/">Revue</a>
          
          </li>
        
          
            <li class="dropdown">
              <a href="http://www.valhalla.fr" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown">Archives <i class="caret"></i></a>
              <ul class="dropdown-menu">
              
                <li><a href="http://www.valhalla.fr/articles-essentiels/">Articles essentiels</a></li>
              
                <li><a href="http://www.valhalla.fr/archives/index.html">Archives chronologiques</a></li>
              
                <li><a href="http://www.valhalla.fr/archives/categories.html">Catégories</a></li>
              
                <li><a href="http://www.valhalla.fr/archives/tags.html">Tags</a></li>
              
              </ul>
          
          </li>
        
          
            <li class="dropdown">
              <a href="http://www.valhalla.fr" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown">Divers <i class="caret"></i></a>
              <ul class="dropdown-menu">
              
                <li><a href="http://www.valhalla.fr/outils/">Outils</a></li>
              
                <li><a href="http://www.valhalla.fr/java/">Java</a></li>
              
              </ul>
          
          </li>
        
      </ul>
      
      <!-- Google Custom Search Engine -->
      <form action="http://www.google.com/cse" id="cse-search-box" _lpchecked="1" class="navbar-form navbar-right" role="search">
        <input type="hidden" name="cx" value="007528237610497066360:tooxybveeoo">
        <input type="hidden" name="ie" value="UTF-8">
        <input name="siteurl" type="hidden" value="http://www.valhalla.fr">
        <input name="ref" type="hidden" value="">
        <input name="ss" type="hidden" value="">
        <div class="input-group input-group-sm">
          <input type="text" class="form-control" name="q" style="background: url(http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif) 0% 50% no-repeat rgb(255, 255, 255);">
        </div>
      </form>
      <!-- END Google Custom Search Engine -->
            
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

    <div id="page-content">
        <!-- This loops through the paginated posts -->
  <br>
  
    <br>
<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-8 col-md-push-2 col-xs-12">
      <h1><a href="/2001/08/31/comment-naviguer-sur-internet-avec-un-jeditorpane/">Comment naviguer sur Internet avec un JEditorPane ?</a></h1>
      <div class="text-content"><p>Cet article de la FAQ Java de l'association Java-France a pour but d'expliquer la proc&eacute;dure &agrave; suivre pour afficher des pages HTML, qui r&eacute;pondent aux liens, dans un JEditorPane ou un JTextPane (m&ecirc;me proc&eacute;dure). En effet, ces deux composnats (JTextPane h&eacute;ritant de JEditorPane) impl&eacute;mentent des m&eacute;thodes compliqu&eacute;es (plusieurs milliers de lignes de code) permettant de formater un document au format HTML, et de lancer une connexion pour afficher une nouvelle page si l'on clique sur un lien.</p>
<p>Nous allons donc voir, en 3 points, comment faire pour mettre en place un tel JEditorPane.</p>
<p>1) Le d&eacute;clarer, l'ins&eacute;rer dans l'interface (dans un JScrollPane de pr&eacute;f&eacute;rence), et faire tout ce qu'il faut pour qu'il s'affiche dans ue fen&ecirc;tre quand on lance le programme.</p>
<p>2) L'interdire en &eacute;criture: <span class="Code">editorPane.setEditable(false);</span></p>
<p>3) Cr&eacute;er un gestionnaire d'&eacute;v&egrave;nements &quot;HyperlinkListener&quot;.</p>
<p class="Code">editorPane.addHyperlinkListener(new HyperlinkListener()<br />
  { public void hyperlinkUpdate(HyperlinkEvent event)<br />
  { if (event.geteventType() == HyperlinkEvent.EventType.ACTIVATED)<br />
  { try<br />
  {editorPane.setPage(event.getURL());<br />
  }catch(IOException ioe) {;}<br />
  }<br />
  }<br />
  }<br />
}); </p>
<p>Et voil&agrave; le travail ! </p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de www.jgflsoft.com ou www.java-france.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Ecrit &agrave; Montpellier le 31 ao&ucirc;t 2001</p>

</div>
    </div>
    <div class="col-md-2 col-md-pull-8 col-xs-12 text-center">
      <h2>31 Aug 2001</h2>
      <br>
      <div class="label label-info">196 mots</div>
      <br>
        
          <div class="label label-default">java</div>
        
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
  
    <br>
<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-8 col-md-push-2 col-xs-12">
      <h1><a href="/2001/08/30/introduction-a-java-idl/">Introduction à Java IDL</a></h1>
      <div class="text-content"><p>Article de <a href="http://www.sun.com">Sun</a> traduit et adapt&eacute; en fran&ccedil;ais.</p>
<h1>Qu'est-ce que Java IDL ?</h1>
<p>Java IDL est une technologie pour les &quot;objets distribu&eacute;s&quot;, c'est-&agrave;-dire des objets interagissant avec diff&eacute;rentes stations de travail d'un r&eacute;seau. Java IDL est similaire &agrave; RMI (Remote Method Invocation) qui supporte des objets distribu&eacute;s &eacute;crits enti&egrave;rement et exclusivement en langage Java. Cependant, Java IDL permet aux objets d'&ecirc;tre utilis&eacute;s m&ecirc;me s'ils sont &eacute;crits dans un langage diff&eacute;rent de Java, comme C/C++, Cobol, et bien d'autres.</p>
<p>Ceci est possible car Java IDL est bas&eacute; sur l'architecture CORBA (Common Object Request Brokerage Architecture), un standard mondial de l'industrie dans la distribution d'objets sur un r&eacute;seau. Une des composantes de Corba est IDL (Interface Definition Language), langage dit &quot;neutre&quot;. Chaque langage de programmation supportant Corba impl&eacute;mente une IDL, d'o&ugrave; le nom de &quot;Java IDL&quot;, l'impl&eacute;mentation IDL pour Java. Corba et IDL sont issus d'un consortium de trusts mondiaux (notamment IBM, Boeing, etc.) connus sous le nom de OMG (Object Management Group), et le fait que Sun Microsystems soit l'un des membres fondateurs explique que IDL soit si bien adapt&eacute; &agrave; Java.</p>
<p>Pour permettre des interactions entre les objets de diff&eacute;rents programmes d'un r&eacute;seau, Java IDL &quot;fourni&quot; un ORB (Object Request Broker). Un ORB est une biblioth&egrave;que de classes qui permet une communication de bas niveau entre Java IDL et d'autres applications bas&eacute;es sur Corba.</p>
<h1>L'architecture CORBA</h1>
<p>Une interaction entre 2 objets sur un r&eacute;seau a toujours 2 sens: le client et le serveur (entr&eacute;e/sortie su vous pr&eacute;f&eacute;rez). Le serveur cr&eacute;e une &quot;Remote Interface&quot; (c'est &agrave; dire une porte d'entr&eacute;e vers lui), et le client appelle et utilise cette &quot;Remote Interface&quot;. Ceci est globalement la proc&eacute;dure g&eacute;n&eacute;ralis&eacute;e utilis&eacute;e par les standards d'objets distribu&eacute;s comme RMI ou Corba. On notera que les mots &quot;client&quot; et &quot;serveur&quot; d&eacute;signent des interactions au niveau des objets et pas des applications: un logiciel peut &ecirc;tre &agrave; la fois client et serveur selon s'il publie ou re&ccedil;oit tel ou tel objet.</p>
<p>Du c&ocirc;t&eacute; du client, l'application a une r&eacute;f&eacute;rence vers l'objet distribu&eacute;. La r&eacute;f&eacute;rence a une m&eacute;thode &quot;stub&quot; (&quot;stub&quot; signifie le &quot;talon&quot; d'un ticket en anglais) qui est une sorte des rempla&ccedil;ant pour la m&eacute;thode appel&eacute;e &agrave; distance. Le &quot;stub&quot; est install&eacute; dans l'ORB, l'appeler revient donc &agrave; activer les fonctions de communication de l'ORB qui se chargera de la connexion au serveur.</p>
<p>Du c&ocirc;t&eacute; du serveur, l'ORB utilise un &quot;squelette&quot; de code pour traduire l'appel &agrave; distance en un appel de m&eacute;thode sur un objet local. Le squelette se charge de bien traduire la requ&ecirc;te dans le format attendu par l'objet local. Quand la m&eacute;thode finit (&agrave; comprendre: quand elle retourne) le squelette se charge de traduire la valeur de retour ou les erreurs et de les transmettre &agrave; l'ORB qui les transmet &agrave; son tour au client.<br />
  Entre les ORB, la communication est &eacute;tablie gr&acirc;ce &agrave; un protocole sp&eacute;cial: IIOP (Internet Inter-ORB Protocol). IIOP, bas&eacute; sur le standard TCP/IP, d&eacute;finit comment des ORB pour Corba &eacute;changent des informations. Tout comme Corba et IDL, IIOP est un standard d&eacute;finit par l'OMG (Object Management Group).</p>
<p>En plus des possibilit&eacute;s de communication expos&eacute;es plus haut, les ORB bas&eacute;s sur Corba ont des fonctionnalit&eacute;s am&eacute;lior&eacute;es, des services d&eacute;finis par l'OMG. Ceci inclut la recherche d'objets par nom, la persistance d'objets, la possibilit&eacute; d'&eacute;changer des messages, etc. Certains ORB supportent ces fonctions, celui fourni avec Java IDL supporte la recherche d'objets par nom.</p>
<h1>Le processus de d&eacute;veloppement de Java IDL</h1>
<p>1) D&eacute;finir l'interface &agrave; distance<br />
  On d&eacute;finit l'interface &agrave; distance en utilisant le langage de d&eacute;finition de l'interface de l'OMG, c'est &agrave; dire IDL. On utilise IDL plut&ocirc;t que Java car le compilateur idl-to-java travaille &agrave; partir d'un (code) source IDL, g&eacute;n&eacute;rant tous les fichiers &quot;stub&quot; et &quot;squelette&quot; avec le code d'infrastructure n&eacute;cessaire &agrave; la connexion avec l'ORB. En utilisant IDL, on permet aux autres d&eacute;veloppeurs d'impl&eacute;menter des clients et des serveurs dans d'autres langages compatibles Corba. </p>
<p>2) Compiler l'interface &agrave; distance<br />
  Quand on lance le compilateur idl-to-java sur le fichier source de d&eacute;finition de l'interface, il g&eacute;n&egrave;re une version en Java de l'interface, comme il g&eacute;n&egrave;re les stubs et les squelettes.</p>
<p>3) Impl&eacute;menter le serveur<br />
  Une fois le compilateur idl-to-java lanc&eacute;, on peut utiliser les squelettes g&eacute;n&eacute;r&eacute;s pour assembler son serveur. En plus d'impl&eacute;menter les m&eacute;thode de l'interface &agrave; distance, le code du serveur inclut un m&eacute;canisme pour lancer l'ORB et attendre une requ&ecirc;te d'un client.</p>
<p>4) Impl&eacute;menter un client<br />
  De m&ecirc;me on utilisera les stubs g&eacute;n&eacute;r&eacute;s par le compilateur comme base pour l'application client. Le code client construit &agrave; partir des stubs lance l'ORB de son c&ocirc;t&eacute; qui recherche une connexion vers le serveur utilisant le service de noms indiqu&eacute; par Java IDL, obtient une r&eacute;f&eacute;rence vers l'objet &agrave; distance et invoque &agrave; distance ses m&eacute;thodes.</p>
<p>5) D&eacute;marrer l'application<br />
Une fois le serveur et le client cr&eacute;&eacute;e, on peut lancer le service de noms, puis d&eacute;marrer le serveur, et enfin lancer le client.</p>
<p>Notes:<br />
  1) Avec Java 1.3, idltojava compiler est remplac&eacute; par idlj compiler<br />
  2) Si vous d&eacute;sirez un exemple concret: HelloWorld! dans la suite de cet article de la FAQ. Article Sun ici.</p>
<p>Traduit et adapt&eacute; de l'anglais par Narcanes, (article original de Jim Inscore Sun Microsystems)<br />
  pour l'association Java-France/Jgflsoft<br />
  www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Montpellier, 30 ao&ucirc;t 2001.</p>

</div>
    </div>
    <div class="col-md-2 col-md-pull-8 col-xs-12 text-center">
      <h2>30 Aug 2001</h2>
      <br>
      <div class="label label-info">890 mots</div>
      <br>
        
          <div class="label label-default">java</div>
        
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
  
    <br>
<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-8 col-md-push-2 col-xs-12">
      <h1><a href="/2001/08/28/quest-ce-que-la-technologie-jini/">Qu'est-ce-que la technologie Jini ?</a></h1>
      <div class="text-content"><p>Traduction (adaptation, simplification) d'un article de <a href="http://www.sun.com">Sun</a>.</p>
<h1>Historique</h1>
<p>Comment sommes-nous arriv&eacute;s &agrave; un stade o&ugrave; l'orientation &quot;online&quot; des services et du mat&eacute;riel informatique est la pr&eacute;occupation majeure des fabriquants ?</p>
<p>L'explication la plus &eacute;vidente est notre meilleure connaissance de domaines scientifiques tels que la chimie ou l'&eacute;lectronique appliqu&eacute;s &agrave; la micro-informatique. De nos jours, un ordinateur personnel peut &ecirc;tre fabriqu&eacute; &agrave; partir d'un minimum de mat&eacute;riel et les serveurs d'entreprise ne sont plus ces gros amas de t&ocirc;les et de c&acirc;bles occupant des pi&egrave;ces enti&egrave;res.</p>
<p>Dans les ann&eacute;es 60, seules les grosses entreprises pouvaient se payer le luxe d'un ordinateur (d'un de ces amas de t&ocirc;les et de c&acirc;bles).</p>
<p>Puis vient la miniaturisation et la cr&eacute;ation de terminaux: des &eacute;crans et des claviers, sans grosse unit&eacute; centrale, reli&eacute;s en r&eacute;seau &agrave; un serveur. Cela r&eacute;solvait pas mal de probl&egrave;mes de place, et annoncait le d&eacute;but de la vague &quot;online&quot;.</p>
<p>Les &quot;stations de travail&quot;, ordinateurs du format de ceux d'aujourd'hui, firent leur apparition un peu plus tard. Ils offraient une puissance suffisante pour les travaux scientifiques tels que le dessin technique, le d&eacute;veloppement d'application scientifiques...</p>
<p>L'ordinateur personnel (PC) &eacute;tait &eacute;galement assez petit pour tenir sous une table et assez puissant pour offrir des fonctionnalit&eacute;s telles qu'une interface graphique &agrave; ses utilisateurs.</p>
<p>De nos jours la miniaturisation en est &agrave; un tel point que les voitures ont en moyenne une cinquantaine de microprocesseurs, et que l'on peut en trouver plus d'une centaine dans une maison.</p>
<p>Mais la cr&eacute;ation de ces ordinateurs toujours plus petits et moins cher a eu une retomb&eacute;e impr&eacute;vue: la disparition d'une forme de vie en communaut&eacute;. En effet, les ordinateurs &eacute;tant plus disponibles, il n'&eacute;tait plus n&eacute;cessaire des les partager entre plusieurs personnes, tout le monde pouvait avoir son ordinateur personnel, au travail comme &agrave; la maison.<br />
  Et l'internet domestique pallie &agrave; cet effet: les stations de travail et les ordinateurs pesonnels ne sont vraiment utiles d&eacute;s lors qu'ils sont connect&eacute;s entre eux afin de pouvoir communiquer.</p>
<p>Plus loin dans cette voie, les ordinateurs peuvent maintenant &eacute;changer des objets (comprenez: des classes Java) et supporter des langages orient&eacute;s objet et communication. Pout la plupart des gens un ordinateur sert avant tout &agrave; chercher des informations sur internet, communiquer par e-mail, etc...</p>
<h1>Comment fonctionne Jini ?</h1>
<p>La technologie Jini est une architecture pour la construction de syst&egrave;mes &agrave; partir d'objets (de classes...) et de r&eacute;seaux. La technologie Jini permet aux programmes d'utiliser des services dans un r&eacute;seau sans savoir quoi que ce soit du protocole de connexion de ce r&eacute;seau. Une impl&eacute;mentation d'un syst&egrave;me pourrait &ecirc;tre bas&eacute;e sur les RMI, une autre sur XML et encore une autre sur CORBA. Le client Jini interroge les services qui lui r&eacute;pondent comment ils s'utilisent ! Un service est d&eacute;fini par une API, d&eacute;clar&eacute;e comme une interface de programmation Java.</p>
<p>Quand un service est &quot;branch&eacute;&quot; &agrave; un r&eacute;seau ou mat&eacute;riel bas&eacute; sur l'architecture Jini, il s'identifie en publiant un objet Java qui impl&eacute;mente l'API du service concern&eacute;. <br />
  Le client trouve des services en cherchant un objet supportant l'API Jini. Une fois connect&eacute; au service, il t&eacute;l&eacute;charge un code qui lui indique comment communiquer avec ce service. Les programmeurs qui auront impl&eacute;ment&eacute; le service auront choisi comment transformer une requ&ecirc;te de l'API en bits de mani&egrave;re &agrave; utiliser un protocole comme UPnP, RMI, Corba ou un protocole priv&eacute;.</p>
<h1>Cr&eacute;er une communaut&eacute; autour de la technologie Jini</h1>
<p>Quand internet fur cr&eacute;&eacute;, les deux pr&eacute;occupations majeures &eacute;taient de d&eacute;finir et de perfectionner les protocoles de communication et les infrastructures du r&eacute;seau, et de cr&eacute;er des services et des applications utilisant ce r&eacute;seau. L'infrastructure d'internet inclu les protocoles TCP/IP, HTTP, SMTP, FTP (etc...), et leurs impl&eacute;mentations. Avec ces protocoles furent cr&eacute;&eacute;e des logiciels comme les navigateurs, les clients e-mail ou les clients FTP, et m&ecirc;me le Web lui m&ecirc;me. Ce n'est pas une seule entreprise aui r&eacute;ussit &agrave; cr&eacute;er Internet, mais de nombreuses entreprises ayant adopt&eacute; les m&ecirc;mes protocoles, ayant des standars. C'est pourquoi pour que Jini r&eacute;ussisse, un grand nombre de personnes doit l'utiliser. Plus il sera utilis&eacute; plus facilement il devientra une technologie de r&eacute;f&eacute;rence.</p>
<p>La Sun Community Source License (SCSL) a &eacute;t&eacute; cr&eacute;e pour mettre en place une communaut&eacute; autour de Jini. La SCSL donne libre acc&egrave;s au code source de la technologie Jini et de ses d&eacute;v&eacute;s, libres de droits en utilisation et modification.</p>
<h1>Liens</h1>
<p>Pour s'enregistrer http://www.sun.com/jini/licensing/<br />
  Des infos sur la communaut&eacute;: http://www.sun.com/jini/community/</p>
<p>Traduit par Narcanes (narcanes@online.fr) <br />
&agrave; partir d'un article de <a href="http://www.sun.com">Sun</a>,<br />
  pour l'association Java-France / Jgflsoft<br />
  www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
Montpellier, 28 ao&ucirc;t 2001.</p>

</div>
    </div>
    <div class="col-md-2 col-md-pull-8 col-xs-12 text-center">
      <h2>28 Aug 2001</h2>
      <br>
      <div class="label label-info">771 mots</div>
      <br>
        
          <div class="label label-default">java</div>
        
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
  
    <br>
<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-8 col-md-push-2 col-xs-12">
      <h1><a href="/2001/07/03/comment-exporter-un-programme-avec-jbuilder/">Comment exporter un programme avec JBuilder ?</a></h1>
      <div class="text-content"><p>Ce chapitre de la FAQ a pour but de montrer comment exporter, sous la forme d'une archive JAR, un programme Java (application, applet, servlet, web app, bean, etc...). Nous utiliserons ici la situation la plus simple: une application (avec m&eacute;thode main()) export&eacute;e dans une archive JAR auto-ex&eacute;cutable. Nous d&eacute;taillerons les &eacute;tapes de la cr&eacute;ation d'une telle archive.</p>
<p>NOTE 1: Pour des raisons de temps notamment (JBuilder 5 n'est pas encore sortie en France   &agrave; l'heure de la r&eacute;daction de cet article), la version de JBuilder utilis&eacute;e sera la version US.</p>
<p>NOTE 2: cette page contient de nombreuses images, le temps de chargement peut &ecirc;tre assez long...</p>
<p>1) Lancer l'outil, ou wizard, d'exportation: Menu WIZARDS -&gt; ARCHIVE BUILDER</p>
<p><img alt="JarExport" src="./ressources/java/old/faq/jbuilder_jar/jar1.jpg" /></p>
<p>2) Premi&egrave;re &eacute;tape de l'exportation: le choix d'un format.</p>
<p><img alt="JarExport" src="./ressources/java/old/faq/jbuilder_jar/jar2.jpg" /></p>
<p>Nous choisissons ici le format &quot;Application&quot;. On peut cependant prendre &quot;Basic&quot; (comme &quot;Application&quot; mais non auto-ex&eacute;cutable), Applet pour exporter des applets, Web Start pour exporter des Web App, etc... Une description de chaque option est faite dans la case de la fen&ecirc;tre &quot;Description&quot;.</p>
<p>3) R&eacute;solution des d&eacute;pendances (1)</p>
<p>Un programme Java a la plupart du temps des d&eacute;pendances, c'est &agrave; dire des classes ou des packages absolument n&eacute;cessaires pour s'ex&eacute;cuter. Par exemple, un programme utilisant une interface graphique Swing devra absolument int&eacute;grer les classes du package Swing n&eacute;cessaires. Pas besoin de sp&eacute;cifier ici les classes du package Swing ou de tout autre package &quot;classique&quot; fourni avec le JDK. Par contre, si vous utilisez des biblioth&egrave;ques non fournies par d&eacute;faut (par exemple le VerticalFlowLayout de Borland). C'est &eacute;galement ici que l'on ajoutera &agrave; l'archive tous les fichiers non-java n&eacute;cessaires.</p>
<p>4) R&eacute;solution des d&eacute;pendances (2) </p>
<p><img alt="JarExport" src="./ressources/java/old/faq/jbuilder_jar/jar3.jpg" /></p>
<p>Vous ne ferez rien ici si aucun package autre que les packages par d&eacute;faut de Sun n'est n&eacute;cessaire &agrave; votre programme. Sinon vous devrez d&eacute;cider du niveau d'inclusion. Je conseille d'inclure toutes les classes et toutes les ressources, on perd un peu en taille du fichier, mais on est s&ucirc;r que tout fonctionnera !</p>
<p>5) Cr&eacute;er un fichier MANIFEST</p>
<p>Cette &eacute;tape n'est pas n&eacute;cessaire dans tous les cas, par exemple si vous avez choisi &quot;Basic&quot; &agrave; l'&eacute;cran (1), le fichier manifest ne sera par d&eacute;faut pas cr&eacute;&eacute;. Par contre pour &quot;Application&quot; il est n&eacute;cessaire: le fichier Manifest indique, entre autres, &agrave; l'interpr&eacute;teur Java quelle classe contient la m&eacute;thode main(), condition n&eacute;cessaire &agrave; l'auto-ex&eacute;cution de l'archive.</p>
<p><img alt="JarExport" src="./ressources/java/old/faq/jbuilder_jar/jar4.jpg" /></p>
<p>Vous pouvez choisir d'inclure un Manifest que vous avez cr&eacute;&eacute; vous m&ecirc;me, amis pourquoi se compliquer la vie quand JBuilder le g&eacute;n&egrave;re tout seul comme un grand ?!</p>
<p>6) Sp&eacute;cifier la classe main()</p>
<p><img alt="JarExport" src="./ressources/java/old/faq/jbuilder_jar/jar5.jpg" /></p>
<p>Un package, une archive, peuvent contenir plusieurs classes impl&eacute;mentant une m&eacute;thode main(). On d&eacute;finit ici laquelle des ces m&eacute;thodes main() devra &ecirc;tre signal&eacute;e au Manifest. On laissera coch&eacute;e la case &quot;Use the main class specified in the default runtime&quot; par d&eacute;faut. Lors de la premi&egrave;re ex&eacute;cution d'un programme (&agrave; moins que l'ossature de ce programme n'ait &eacute;t&eacute; cr&eacute;&eacute;e par JBuilder lui-m&ecirc;me), JBuilder vous demande quelle est la classe principale du programme, et c'est cette classe, contenant la m&eacute;thode main() dans le cas d'une application, qui sera utilis&eacute;e pour lancer le programme sous JBuilder (en runtime normal ou en debug), et qui sera ici consid&eacute;r&eacute;e comme la classe principale du programme &agrave; signaler comme telle au Manifest.</p>
<p>7) Observer</p>
<p><img alt="JarExport" src="./ressources/java/old/faq/jbuilder_jar/jar6.jpg" /></p>
<p>On voit une nouvelle ic&ocirc;ne dans l'inspecteur d'objets. Notre archive s'appelle &quot;Application&quot;, mais ne contient pas encore de fichier Jar. Pour cr&eacute;er r&eacute;ellement le fichier Jar nous devons &quot;reconstruire&quot; le programme.</p>
<p>8) Reconstruire</p>
<p><img alt="JarExport" src="./ressources/java/old/faq/jbuilder_jar/jar7.jpg" /></p>
<p>Pour &quot;reconstruire&quot; on peut soir faire un clic-droit sur l'ic&ocirc;ne &quot;Application&quot; et choisir &quot;Reconstruire&quot; (ou &quot;Rebuild&quot; en version US) afin de cr&eacute;er le fichier JAR. On peut aussi utiliser le bouton de la barre d'ic&ocirc;nes.</p>
<p>Ceci est tr&egrave;s pratique: &agrave; chaque compilation, JBuilder recr&eacute;e automatiquement le fichier JAR. Un exemple de compilation ci-dessous o&ugrave; l'on voit que JBuilder est en train de cr&eacute;er l'archive. (j'ai d&ucirc; m'y reprendre &agrave; plusieurs fois pour faire la capture d'&eacute;cran tellement que la cr&eacute;ation de cette archive, pour notre petit programme exemple, est rapide !)</p>
<p><img alt="JarExport" src="./ressources/java/old/faq/jbuilder_jar/jar9.jpg" /></p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG <br />
  &Eacute;crit &agrave; Montpellier le 3 juillet 2001</p>

</div>
    </div>
    <div class="col-md-2 col-md-pull-8 col-xs-12 text-center">
      <h2>03 Jul 2001</h2>
      <br>
      <div class="label label-info">717 mots</div>
      <br>
        
          <div class="label label-default">java</div>
        
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
  
    <br>
<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-8 col-md-push-2 col-xs-12">
      <h1><a href="/2001/07/02/comment-telecharger-un-fichier-a-partir-dune-url-en-java/">Comment télécharger un fichier à partir d'une URL en Java ?</a></h1>
      <div class="text-content"><p>Cet article de la FAQ a pour but de montrer comment t&eacute;l&eacute;charger un fichier depuis Internet vers son Disque Dur. On peut utiliser plusieurs m&eacute;thodes, et celle &agrave; laquelle on pensera en premier lieu est s&ucirc;rement d'impl&eacute;menter un petit client FTP ou d'utiliser un JavaBean FTP comme celui d'IPWorks (dans JBuilder 5). Cependant, je propose ici une solution plus simple (beaucoup plus simple), &agrave; partir du moment o&ugrave; l'on conna&icirc;t l'adresse exacte du fichier &agrave; t&eacute;l&eacute;charger. Cette m&eacute;thode est &eacute;galement plus s&eacute;curis&eacute;e, en cela que l'on a aucun besoin de sp&eacute;cifier un login et un mot de passe.</p>
<p>Nous allons donc utiliser une m&eacute;thode avec URLConnection. Voici le code source comment&eacute;:</p>
<p class="Code">// Sp&eacute;cifier le chemin exact vers le fichier<br />
  URL u = new URL(&quot;http://www.monserveur.com:80/monrepertore/lisezmoi.txt&quot;);</p>
<p class="Code">// Ouvrir la connexion, d&eacute;but de la communication avec le serveur<br />
  URLConnection uc = u.openConnection();</p>
<p class="Code">// R&eacute;cup&eacute;rer la taille exacte en nombre d'octets du fichier d&eacute;sign&eacute;, et la stocker dans un int<br />
  int taille = uc.getContentLength();</p>
<p class="Code">// Cr&eacute;er un flux d'entr&eacute;e pour le fichier<br />
  InputStream brut = uc.getInputStream();</p>
<p class="Code">// Mettre ce flux d'entr&eacute;e en cache (pour un meilleur transfert, plus s&ucirc;r et plus r&eacute;gulier).<br />
  InputStream entree = new BufferedInputStream(brut);</p>
<p class="Code">// Cr&eacute;er une matrice (un tableau) de bytes pour stocker tous les octets du fichier<br />
  byte[] donnees = new byte[taille];</p>
<p class="Code">// Pour l'instant aucun octet n'a encore &eacute;t&eacute; lu<br />
  int octetsLus = 0;</p>
<p class="Code">// Octets de d&eacute;placement, et octets d&eacute;j&agrave; lus. <br />
  int deplacement = 0; float alreadyRead = 0;</p>
<p class="Code">// Boucle permettant de parcourir tous les octets du fichier &agrave; lire<br />
  while(deplacement &lt; taille)<br />
  {<br />
  // utilisation de la methode &quot;read&quot; de la classe InputStream<br />
  octetsLus = entree.read(donnees, deplacement, donnees.length-deplacement);</p>
<p class="Code">// Petit calcul: mise &agrave; jour du nombre total d'octets lus par ajout au nombre d'octets lus au cours des pr&eacute;c&eacute;dents passages au nombre d'octets lus pendant ce passage<br />
  alreadyRead = alreadyRead + octetsLus;</p>
<p class="Code">// -1 marque par convention la fin d'un fichier, double op&eacute;rateur &quot;&eacute;gale&quot;: = =<br />
  if(octetsLus == -1) break;</p>
<p class="Code">// se cadrer &agrave; un endroit pr&eacute;cis du fichier pour lire les octets suivants, c'est le d&eacute;placement<br />
  deplacement += octetsLus;</p>
<p class="Code">}<br />
  // fermer le flux d'entr&eacute;e.<br />
  entree.close();</p>
<p class="Code">// R&eacute;cup&eacute;rer le nom du fichier<br />
  String fichier = u.getFile();<br />
  fichier = fichier.substring(fichier.lastIndexOf('/') + 1);</p>
<p class="Code">// Cr&eacute;er un fichier sur le DD afin d'y copier le contenu du fichier t&eacute;l&eacute;charg&eacute; (par un flux de sortie).<br />
  FileOutputStream fichierSortie = new FileOutputStream(fichier);</p>
<p class="Code">// copier...<br />
  fichierSortie.write(donnees);</p>
<p class="Code">// vider puis fermer le flux de sortie<br />
  fichierSortie.flush(); fichierSortie.close();</p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Ecrit &agrave; Montpellier le 2 juillet 2001</p>

</div>
    </div>
    <div class="col-md-2 col-md-pull-8 col-xs-12 text-center">
      <h2>02 Jul 2001</h2>
      <br>
      <div class="label label-info">470 mots</div>
      <br>
        
          <div class="label label-default">java</div>
        
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
  
    <br>
<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-8 col-md-push-2 col-xs-12">
      <h1><a href="/2001/04/27/comment-convertir-des-string-en-int-float-double-et-vice-versa/">Comment convertir des String en int, float, double, ... , et vice versa ?</a></h1>
      <div class="text-content"><p>J'ai d&eacute;cid&eacute; de traiter ce point pr&eacute;cis de la programmation Java: la convertion des types primaires (ou types de base) de donn&eacute;es, car cela m'a pos&eacute; des probl&egrave;mes quand j'ai d&eacute;but&eacute; en Java, et cela en pose souvent aux programmeurs venant de Delphi/Pascal, tout simplement car il n'existe pas en Java de m&eacute;thodes comme IntToStr ou StrToInt (Delphi).<br />
  Je vous propose ici l'impl&eacute;mentation de ces deux m&eacute;thodes, ainsi que deux autre m&eacute;thodes convertissant des int vers long et des String vers float. Vous pourrez ensuite, une fois le sch&eacute;ma pos&eacute; dans ce document, faire vous-m&ecirc;me d'autres combinaisons.</p>
<p>Voici donc les m&eacute;thodes ainsi que la mani&egrave;re de les utiliser:</p>
<h1>M&eacute;thodes<br />
</h1>
<p class="Code">/** <br />
  * De String vers INT<br />
  */<br />
  public static int strToInt(String s) <br />
  { <br />
  Integer ger = new Integer(s); <br />
  int i = ger.intValue(); <br />
  return i; <br />
  }</p>
<p class="Code">/** <br />
  * De INT vers String <br />
  */ <br />
  public static String intToStr(int i) <br />
  { <br />
  String texte = new String(); <br />
  texte = texte.valueOf(i); <br />
  return texte; <br />
  }</p>
<p class="Code">/** <br />
  * De INT vers long <br />
  */ <br />
  public static long intToLong(int i) <br />
  {<br />
  Integer ger = new Integer(i); <br />
  long lg = ger.longValue(); <br />
  return lg; <br />
  }</p>
<p class="Code">/** <br />
  * de String vers float <br />
  */ <br />
  public static float strToFloat(String s) <br />
  { <br />
  float f = Float.valueOf(s.trim()).floatValue(); <br />
  return f; <br />
  }</p>
<h1>Comment les utiliser</h1>
<p>J'ai un champ de texte, un JTextField, dans lequel l'utilisateur entre une valeur num&eacute;rique. Je veux r&eacute;cup&eacute;rer cette valeur, lui ajouter 3, par exemple, et l'afficher dans un composant JLabel. Mon JTextField s'appelle textField, et mon JLabel, label. Voici le code que je dois &eacute;crire:</p>
<p class="Code">int monNombre;<br />
  monNombre = srtToInt(textField.getText());<br />
  monNombre = monNombre + 3;<br />
  label.setText(intToStr(monNombre);<br />
  Code r&eacute;duit:<br />
  label.setText(intToStr(strToInt(textField.getText()) + 3));</p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Ecrit &agrave; Montpellier le 27 avril 2001</p>

</div>
    </div>
    <div class="col-md-2 col-md-pull-8 col-xs-12 text-center">
      <h2>27 Apr 2001</h2>
      <br>
      <div class="label label-info">364 mots</div>
      <br>
        
          <div class="label label-default">java</div>
        
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
  
    <br>
<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-8 col-md-push-2 col-xs-12">
      <h1><a href="/2001/04/22/installer-et-configurer-un-environnement-dexecution-de-servletsjsp-sous-windows/">Installer et configurer un environnement d'exécution de servlets/JSP sous Windows</a></h1>
      <div class="text-content"><p>Ce chapitre de la FAQ Java explique, pas &agrave; pas, comment installer et configurer un environnement de d&eacute;veloppement et d'ex&eacute;cution de servlets et de pages JSP sur une machine tournant sous Windows 95/98/Me (NT/2000 ?).<br />
Nous utiliserons le JSWDK de Sun (Java Servlets Web Development Kit). Vous pouvez aussi installer le serveur de Netscape ou Jakarta (pour Apache), mais nous nous centrerons ici sur l'inpl&eacute;mentation officielle de Sun.</p>
<p>1) Vous devez poss&eacute;der un JDK install&eacute; et configur&eacute; sur votre machine. </p>
<p>2) Vous devez t&eacute;l&eacute;charger &agrave; partir du site de Sun le JSWDK en cliquant ici. Le fichier &agrave; t&eacute;l&eacute;charger est au format ZIP. C'est une archive et vous avez besoin d'un programme externe pour la d&eacute;compresser, le shareware WinZip convient parfaitement.</p>
<p><img align="right" alt="JWSDK" src="./ressources/java/old/faq/install_jwsdk/install_jwsdk1.jpg" /></p>
<p>3) D&eacute;compressez l'archive ZIP &agrave; la racine de votre disque dur en cochant la case &quot;Use folders name&quot; comme dans l'illustration ci-dessous:</p>
<p>4) Lancez &quot;startserver.bat&quot; &agrave; partir de la ligne de commande. Il s'agit du fichier de commandes qui lancera le serveur sur votre machine, il se trouve &agrave; la racine du r&eacute;pertoire d'installation du JSWDK. Voici ce qui devrait vous &ecirc;tre retourn&eacute;:</p>
<p>5) Vous pouvez maintenant utiliser le serveur et le tester dans un navigateur:<br />
  - ouvrez un navigateur web<br />
  - tapez dans la zone d'url: <strong>http://localhost:8080/</strong> ou <strong>http://127.0.0.1:8080/</strong><br />
  - une page d'accueil doit appara&icirc;tre. Si c'est le cas, tout fonctionne bien, votre environnement de servlets est bien install&eacute; !</p>
<p><img align="right" alt="JWSDK" src="./ressources/java/old/faq/install_jwsdk/install_jwsdk2.jpg" /></p>
<p>6) Nous allons maintenant le configurer ! Pour cela, ouvrez dans un &eacute;diteur de texte brut (pas de Microsoft Word ou autre chose du genre, utilisez NotePad !) le fichier &quot;webserver.xml&quot; situ&eacute; &agrave; la racine du r&eacute;pertoire d'installation.<br />
  Vous n'avez normalement &agrave; changer les valeurs propos&eacute;es qu'en cas de probl&egrave;me, ou si vous d&eacute;sirez param&eacute;trer manuellement votre serveur. A titre indicatif, les valeurs par d&eacute;faut sont les suivantes:</p>
<p>Port Number	<strong>8080</strong><br />
  Bound IP Address	<strong>all</strong> (tous)<br />
  Admin Port	<strong>N'importe quel port entre 2048 et 8192</strong><br />
  Document Base	<strong>Une page html</strong><br />
  Work directory for Temporary Files	work <strong>par d&eacute;faut</strong><br />
  Session inactive max. interval	<strong>30 minutes</strong></p>
<p>  Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Ecrit &agrave; Montpellier le 22 avril 2001</p>

</div>
    </div>
    <div class="col-md-2 col-md-pull-8 col-xs-12 text-center">
      <h2>22 Apr 2001</h2>
      <br>
      <div class="label label-info">383 mots</div>
      <br>
        
          <div class="label label-default">java</div>
        
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
  
    <br>
<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-8 col-md-push-2 col-xs-12">
      <h1><a href="/2001/04/22/comment-charger-une-url-a-partir-dune-applet/">Comment charger une URL à partir d'une applet ?</a></h1>
      <div class="text-content"><p>Ce &quot;How To&quot; explique comment charger une URL, autrement dit une page web, &agrave; partir d'une applet Java, ins&eacute;r&eacute;e dans une autre page web. Ceci ne posera aucun probl&egrave;me &agrave; un programmeur exp&eacute;riment&eacute; dans la programmation des applets, mais, &agrave; cause des restrictions de s&eacute;curit&eacute; desdites applets, cela peut en poser &agrave; des programmeurs qui ne seraient pas habitu&eacute;s &agrave; travailler avec Java sur Internet.<br />
  En effet, les applets Java sont con&ccedil;ues pour une s&eacute;crit&eacute; de l'h&ocirc;te optimale, il n'est donc pas possible de r&eacute;aliser certaines op&eacute;rations d'Entr&eacute;e/Sortie comme par exemple lire ou &eacute;crire des fichiers sur l'ordinateur de l'h&ocirc;te, ou sur un autre serveur que celui sur lequel est h&eacute;berg&eacute;e l'applet. C'est sur ce dernier point q'un probl&egrave;me peut se poser: la page web &agrave; charger peut ne pas &ecirc;tre sur le m&ecirc;me serveur que l'applet. Ainsi, si le code est mal &eacute;crit, une exception de s&eacute;curit&eacute; sera g&eacute;n&eacute;r&eacute;e, et la page ne sera pas charg&eacute;e. <br />
Nous allons voir ici comment faire pour &eacute;viter une telle exception. Le code &agrave; &eacute;crire est -tr&egrave;s- simple et court, le voici comment&eacute;:</p>
<p class="Code">/*<br />
  Nous devons en premier lieu savoir dans quel contexte est ex&eacute;cut&eacute;s l'applet, si s'agit, par exemple, de l'appletviewer ou d'un navigateur. S'il s'agit d'un navigateur, tout va bien !<br />
  */<br />
  AppletContext navigateur = getAppletContext();</p>
<p class="Code">/*<br />
  Nous devons ensuite damander &agrave; ce navigateur, qui est maintenant en parlant programmtion, l'objet navigateur de type AppletContext, de charger une page.<br />
  Dans notre exemple l'URL charg&eacute;e est http://www.jgflsoft.com, vous pouvez bien s&ucirc;r l'adapter comme vous le d&eacute;sirez, tant que l'argument pass&eacute; &agrave; la m&eacute;thode showDocument() est de type String.<br />
  */<br />
  navigateur.showDocument(&quot;http://www.java-france.com&quot;);</p>
<p>Et voil&agrave;, le tour et jou&eacute;, la page se chargera, il vous suffit d'int&eacute;grer ces deux commandes dans un gestionnaire d'&eacute;v&egrave;nements ou dans une m&eacute;thode !</p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Ecrit &agrave; Montpellier le 22 avril 2001</p>

</div>
    </div>
    <div class="col-md-2 col-md-pull-8 col-xs-12 text-center">
      <h2>22 Apr 2001</h2>
      <br>
      <div class="label label-info">331 mots</div>
      <br>
        
          <div class="label label-default">java</div>
        
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
  
    <br>
<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-8 col-md-push-2 col-xs-12">
      <h1><a href="/2001/04/13/comment-travailler-avec-des-archives-compressees-au-format-zip-en-java/">Comment travailler avec des archives compressées au format ZIP en Java ?</a></h1>
      <div class="text-content"><p>Comment travailler avec des archives compress&eacute;es au format ZIP en Java ?</p>
<p>Ce HowTo a pour but de vous expliquer comment cr&eacute;er des archives de fichiers compress&eacute;es au format ZIP et comment ensuite les ouvrir et extraire les fichiers contenus &agrave; l'int&eacute;rieur. Ce n'est en aucun cas un cours th&eacute;orique sur la compression de donn&eacute;es en Java, il s'agit juste d'un tutoriel. De plus, vous devrez utiliser la documentation de Sun si vous d&eacute;sirez en savoir plus sur, par exemple, la mani&egrave;re d'afficher le nom de tous les fichiers d'une archive. Le cas &eacute;ch&eacute;ant, &eacute;crivez moi &agrave; narcanes@online.fr.</p>
<p>Nous allons dans un premier temps d&eacute;finir une archive ZIP:  </p>
<table width="100%" border="0">
<tr>
<td width="41%">Extension par d&eacute;faut du fichier</td>
<td width="59%">.ZIP</td>
</tr>
<tr>
<td width="41%">Programmes pour les lire sous Windows</td>
<td width="59%"><a href="www.winzip.com" target="_new">Winzip</a>, Pkzip, 
<p>        Norton Unzip...

<tr>
<td width="41%">Rassemble dans un fichier plusieurs autres fichiers</td>
<td width="59%">Oui</td>
</tr>
<tr>
<td width="41%">Rassemble des fichiers en les compressant (r&eacute;duisant 
<p>        leur taille)
<td width="59%">Oui</td>

<tr>
<td width="41%">On peut choisir le taux de compression</td>
<td width="59%">Oui de 0 &agrave; 9</td>
</tr>
<tr>
<td width="41%">Contient un fichier META (description de l'archive)</td>
<td width="59%">Non</td>
</tr>
<tr>
<td width="41%">On peut lire une archive ZIP sous plusieurs OS</td>
<td width="59%">Oui: Windows 3.1/95/98/Me/Nt/2000, Linux (toutes distributions), 
<p>        Sparc Solaris, MacOs, BeOs, Os2/Warp, etc...

<tr>
<td width="41%" height="26">On peut joindre des commentaires &agrave; l'archive</td>
<td width="59%" height="26">Oui</td>
</tr>

<p>Ce tutoriel comprendra 2 parties: pour commencer comment cr&eacute;er une archive ZIP, ensuite, comment en lire une et extraire ses fichiers.</p>
<h1>Comment cr&eacute;er une archive ZIP en Java ?</h1>
<p class="Code">// Cr&eacute;er des flux d'entr&eacute;e de donn&eacute;es, en indiquant comme param&egrave;tre le fichier &agrave; compresser.<br />
  FileInputStream fin1 = new FileInputStream(&quot;monPremierFichier.txt&quot;);<br />
  FileInputStream fin2 = new FileInputStream(&quot;monSecondFichier.xls&quot;);<br />
  FileInputStream fin3 = new FileInputStream(&quot;monTroisiemeFichier.doc&quot;);</p>
<p class="Code">// Cr&eacute;er un flux de sortie pour le fichier ZIP final. <br />
  FileOutputStream fout = new FileOutputStream(&quot;monFichier.zip&quot;); </p>
<p class="Code">// Mettre le flux en m&eacute;moire tampon (buffered), et le d&eacute;finir comme flux de compression ZIP<br />
  BufferedOutputStream bout = new BufferedOutputStream(fout); <br />
  ZipOutputStream zout = new ZipOutputStream(bout);</p>
<p class="Code">// D&eacute;finir le taux de compression de l'archive, de 0 &agrave; 9 (Optionnel)<br />
  zout.setLevel(6);</p>
<p class="Code">// Associer un commentaire &agrave; l'archive (Optionnel)<br />
  zout.setComment(&quot;Ceci est un commentaire&quot;);</p>
<p class="Code">// Les fichiers ZIP sont des archives, elles stockent donc plusieurs fichiers, chaque fichier est contenu dans une &quot;entr&eacute;e&quot;, nous devons donc cr&eacute;er une nouvelle<br />
  // entr&eacute;e pour chaque nouveau fichier de l'archive: (on pourra aussi utiliser ze1.getName() pour r&eacute;cup&eacute;rer le nom de l'entr&eacute;e, ceci est tr&egrave;s utilse si vous voulez <br />
  // programmer un outil du type WinZip qui affiche la liste des fichiers d'une archive.) <br />
  ZipEntry ze1 = new ZipEntry(&quot;monPremierFichier.txt&quot;); <br />
  ZipEntry ze2 = new ZipEntry(&quot;monSecondFichier.xls&quot;); <br />
  ZipEntry ze3 = new ZipEntry(&quot;monTroisiemeFichier.doc&quot;); <br />
  zout.putNextEntry(ze1); <br />
  zout.putNextEntry(ze2); <br />
  zout.putNextEntry(ze3);</p>
<p class="Code">// Nous devons ensuite copier le flux d'entr&eacute;e de fichier dans le flux de sortie compress&eacute;. Le code ci-dessous n'est pas comment&eacute;, ce n'est pas l'objet de ce tutoriel:<br />
  try <br />
  { <br />
  synchronized (fin) <br />
  {<br />
  synchronized (zout) <br />
  { <br />
  byte[] buffer = new byte[256];<br />
  while (true) <br />
  { <br />
  int bytesRead = in.read(buffer); <br />
  if (bytesRead == -1) break;<br />
  out.write(buffer, 0, bytesRead);<br />
  }<br />
  }<br />
  } }catch(Exception err) {;}</p>
<p class="Code">// Une fois les flux copi&eacute;s nous devons fermer l'entr&eacute;e<br />
  zout.closeEntry();</p>
<p class="Code">// Puis fermer les flux...<br />
  fin.close(); <br />
  zout.close();</p>
<h1>Comment d&eacute;compresser les fichiers contenus dans une archive ZIP ?</h1>
<p class="Code">// Cr&eacute;er un flux d'entr&eacute;e contenant l'archive ZIP &agrave; d&eacute;compresser<br />
  FileInputStream fin = new FileInputStream(&quot;monFichier.zip&quot;);</p>
<p class="Code">// Mettre ce flux en m&eacute;moire tampon<br />
  BufferedInputStream bis = new BufferedInputStream(fin);</p>
<p class="Code">// Identifier le flux tampon comme flux de compression ZIP<br />
  ZipInputStream zin = new ZipInputStream(bis);</p>
<p class="Code">// D&eacute;finir un objet ZipEntry<br />
  ZipEntry ze = null;</p>
<p class="Code">// Tant que cet objet est diff&eacute;rent de nul (tant qu'il y a des fichiers dans l'archive)...<br />
  while ((ze = zin.getNextEntry()) != null) {</p>
<p class="Code">// ... ex&eacute;cuter le code suivant:<br />
  // Cr&eacute;er un flux de sortie pour le fichier de l'entr&eacute;e courante<br />
  FileOutputStream fout = new FileOutputStream(ze.getName());<br />
  // Copier les flux:<br />
  try <br />
  { <br />
  synchronized (zin) <br />
  {<br />
  synchronized (fout) <br />
  { <br />
  byte[] buffer = new byte[256];<br />
  while (true) <br />
  { <br />
  int bytesRead = in.read(buffer); <br />
  if (bytesRead == -1) break;<br />
  out.write(buffer, 0, bytesRead);<br />
  }<br />
  }<br />
  } }catch(Exception err) {;}</p>
<p class="Code">// Fermer l'entr&eacute;e et le flux de sortie <br />
  zin.closeEntry();<br />
  fout.close();</p>
<p class="Code">// Terminer l'instruction while:<br />
  }</p>
<p class="Code">// Fermer le flux d'entr&eacute;e<br />
  zin.close();</p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Ecrit &agrave; Montpellier le 23 avril 2001</p>


</p></td></tr></p></td></tr></p></td></tr></table>
</div>
    </div>
    <div class="col-md-2 col-md-pull-8 col-xs-12 text-center">
      <h2>13 Apr 2001</h2>
      <br>
      <div class="label label-info">822 mots</div>
      <br>
        
          <div class="label label-default">java</div>
        
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
  
    <br>
<div class="container">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-8 col-md-push-2 col-xs-12">
      <h1><a href="/2001/03/17/comment-utiliser-un-filtre-de-fichiers-dans-un-jfilechooser/">Comment utiliser un filtre de fichiers dans un JFileChooser ?</a></h1>
      <div class="text-content"><p>Cet article explique comment mettre en place un filtre de fichiers dans un JFileChooser, &agrave; partir de leur extension. En effet, cette fonction n'est pas impl&eacute;ment&eacute;e de mani&egrave;re efficace par d&eacute;faut, et il nous faudra cr&eacute;er notre propre classe pour un r&eacute;sultat convenable.<br />
  Nous allons ensuite cr&eacute;er un JFileChooser et lui assigner notre FileFilter appell&eacute; FiltreExtension.</p>
<p>Voici donc le code source de la classe comment&eacute;:</p>
<p class="Code">public class FiltreExtension extends javax.swing.filechooser.FileFilter<br />
  {<br />
  // 2 cha&icirc;nes qui contiendront respectivementl'entension du fichier (de la forme &quot;jpg&quot;, &quot;txt&quot;, etc...) et la descritpion<br />
  // par exemple &quot;Fichier JPEG&quot; ou &quot;Fichier Texte Brut&quot;.<br />
  String extension;<br />
String description;</p>
<p class="Code">// Notre constructeur qui admet donc comme arguments l'extension souhait&eacute;e ainsi que la description que l'on lui associe<br />
  public FiltreExtension(String extension, String description)<br />
  {<br />
  // on n'a ainsi pas besoin (on ne doit pas) inclure le &quot;.&quot; (point) dans le libell&eacute; de l'extension<br />
  if (extension.indexOf('.') == -1)<br />
  extension = &quot;.&quot; + extension;<br />
  // on assimile les Strings du d&eacute;part (variables de classe) aux Strings fournis comme argument au constructeur (variableslocales)<br />
  this.extension = extension;<br />
  this.description = description;<br />
  }</p>
<p class="Code"> public boolean accept(File fichier)<br />
  {<br />
  // v&eacute;rifier si le le fichier finit avec l'extension que nous avons sp&eacute;cifi&eacute; dans le constructeur, et, dans ce cas &quot;accepter&quot; de l'afficher<br />
  // dans la fen&ecirc;tre du JFileChooser<br />
  if (fichier.getName().endsWith(extension))<br />
  return true;<br />
  // les r&eacute;pertoires aussi doivent &ecirc;treaffich&eacute;s dans la fen&ecirc;tre du JFileChooser<br />
  else if (fichier.isDirectory())<br />
  return true;<br />
  return false;<br />
  }</p>
<p class="Code"> public String getDescription()<br />
  {<br />
  // la description du fichier, que l'on associe &agrave; son extension, on a un affichage du type: &quot;Fichier JPEG (*.jpg)&quot;<br />
  return this.description + &quot;(*&quot; + extension + &quot;)&quot;;<br />
  }<br />
}</p>
<p> Une fois ce code &eacute;crit dans un fichier du nom de &quot;FiltreExtension.java&quot;, nous pouvons incorporer ce fichier dans nos projets Java et l'utiliser.<br />
  Pour l'utiliser nous devons cr&eacute;er un JFileChooser et lui assigner un nouveau FileFilter.<br />
  Voici la proc&eacute;dure:</p>
<p>1- Cr&eacute;ons un JFileChooser pour commencer: </p>
<p class="Code">JFileChooser jfc = new JFileChooser();</p>
<p>2 - D&eacute;finissons le r&eacute;pertoire courant ua r&eacute;pertoired'ex&eacute;cution du programme (optionnel):</p>
<p class="Code">jfc.setCurrentDirectory(new File(&quot;.&quot;));</p>
<p>3 - Assignons le FileFilter:</p>
<p class="Code">jfc.addChoosableFileFilter(new FiltreExtension(&quot;jpg&quot;, &quot;Fichier JPEG&quot;));<br />
  jfc.addChoosableFileFilter(new FiltreExtension(&quot;bmp&quot;, &quot;Fichier Bitmap&quot;));<br />
  jfc.addChoosableFileFilter(new FiltreExtension(&quot;gif&quot;, &quot;Fichier GIF&quot;));<br />
  jfc.addChoosableFileFilter(new FiltreExtension(&quot;png&quot;, &quot;Fichier PNG&quot;));</p>
<p>4 - r&eacute;cup&eacute;rer le fichier que l'utilisateur a choisi:</p>
<p class="Code">int resultat = jfc.showOpenDialog(this);<br />
  if (resultat == JFileChooser.APPROVE_OPTION)<br />
  {<br />
  // code &agrave; ex&eacute;cuter comme par exemple:<br />
  File fichier;<br />
  fichier = jfc.getSelectedFile();<br />
  // suite du code...<br />
  }</p>
<p>Et voici ce que &ccedil;a donne en action :</p>
<p><img alt="FileChooser" src="./ressources/java/old/faq/filtre_extension/filtre_extension.jpg" /></p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Ecrit &agrave; Montpellier le 17 mars 2001</p>

</div>
    </div>
    <div class="col-md-2 col-md-pull-8 col-xs-12 text-center">
      <h2>17 Mar 2001</h2>
      <br>
      <div class="label label-info">480 mots</div>
      <br>
        
          <div class="label label-default">java</div>
        
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
  
  
  <div class="text-center">
  <ul class="pagination pagination-lg">
    
      
        <li><a href="/archives/26">&laquo;</a></li>
      
    
    
    
    
    
      
        
          
            <li><a href="/archives/24">24</a></li>
          
        
      
    
      
        
          
            <li><a href="/archives/25">25</a></li>
          
        
      
    
      
        
          
            <li><a href="/archives/26">26</a></li>
          
        
      
    
      
        
            <li class="active"><a href="#">27</a></li>
        
      
    
      
        
          
            <li><a href="/archives/28">28</a></li>
          
        
      
    
      
    
      
    
    
    
      <li><a href="/archives/28">&raquo;</a></li>
    
  </ul>
</div>


    </div>

    <div class="container-fluid" id="footer">
  <div class="row">
    
    <div class="col-md-4 col-sm-6">
      <ul class="no-bullet">
        <li>Valhalla.fr</li>
        <li>Ad Absurdum</li>
        <li><small>Tous droits réservés, sauf mention contraire.</small></li>
        <li><small>Mis à jour le  4 Jan 2015 à 23h23.</small></li>
      </ul>
    </div>
    
    <div class="col-md-4 col-sm-6">
      <a href="mailto:your-email@domain.com" id="gh" target="_blank" title="Contact">
        <span class="fa-stack fa-lg">
          <i class="fa fa-at fa-stack-1x"></i>
        </span>
        your-email@domain.com
      </a>
      <br>
      <a href="http://www.valhalla.fr/feed.xml" id="gh" target="_blank" title="RSS">
        <span class="fa-stack fa-lg">
          <i class="fa fa-rss-square fa-stack-1x"></i>
        </span>
        RSS
        </a>
    </div>
    
    <div class="col-md-4 col-sm-6">
      
      <a href="https://twitter.com/jekyllrb" id="gh" target="_blank" title="Twitter">
        <span class="fa-stack fa-lg">
          <i class="fa fa-twitter fa-stack-1x"></i>
        </span>
        Twitter
      </a>
      
      
      <br>
      <a href="https://github.com/mw4rf"  target="_blank" title="GitHub">
        <span class="fa-stack fa-lg">
          <i class="fa fa-github fa-stack-1x"></i>
        </span>
        GitHub
      </a>
      
    </div>
    
  </div>
</div>

      <script src="/assets/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="/assets/bootstrap/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2290016-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>

</html>
