<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">

  <title>Valhalla.fr</title>
  <meta name="description" content="Ad Absurdum">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://127.0.0.1:4000//archives/54/">
  <link rel="alternate" type="application/atom+xml" title="Valhalla.fr" href="http://127.0.0.1:4000//feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Valhalla.fr</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about.html">A propos</a>
          
        
          
        
          
        
          
          <a class="page-link" href="/archives/index.html">Archives de la revue</a>
          
        
          
          <a class="page-link" href="/cours-java/index.html">Cours Java</a>
          
        
          
          <a class="page-link" href="/liste/index.html">Liste des articles</a>
          
        
          
          <a class="page-link" href="/liens/index.html">Liens</a>
          
        
          
          <a class="page-link" href="/references/index.html">Références</a>
          
        
          
          <a class="page-link" href="/top-10/index.html">Top 10</a>
          
        
          
          <a class="page-link" href="/outils/index.html">Outils</a>
          
        
          
          <a class="page-link" href="/articles-essentiels/index.html">Articles essentiels</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="home">

  <!-- This loops through the paginated posts -->
  
    <h1><a href="/java/2001/04/22/comment-charger-une-url-a-partir-dune-applet.html">Comment charger une URL à partir d'une applet ?</a></h1>
    <p class="author">
      <span class="date">2001-04-22 12:41:32 +0200</span>
    </p>
    <div class="content">
      <p>Ce &quot;How To&quot; explique comment charger une URL, autrement dit une page web, &agrave; partir d'une applet Java, ins&eacute;r&eacute;e dans une autre page web. Ceci ne posera aucun probl&egrave;me &agrave; un programmeur exp&eacute;riment&eacute; dans la programmation des applets, mais, &agrave; cause des restrictions de s&eacute;curit&eacute; desdites applets, cela peut en poser &agrave; des programmeurs qui ne seraient pas habitu&eacute;s &agrave; travailler avec Java sur Internet.<br />
  En effet, les applets Java sont con&ccedil;ues pour une s&eacute;crit&eacute; de l'h&ocirc;te optimale, il n'est donc pas possible de r&eacute;aliser certaines op&eacute;rations d'Entr&eacute;e/Sortie comme par exemple lire ou &eacute;crire des fichiers sur l'ordinateur de l'h&ocirc;te, ou sur un autre serveur que celui sur lequel est h&eacute;berg&eacute;e l'applet. C'est sur ce dernier point q'un probl&egrave;me peut se poser: la page web &agrave; charger peut ne pas &ecirc;tre sur le m&ecirc;me serveur que l'applet. Ainsi, si le code est mal &eacute;crit, une exception de s&eacute;curit&eacute; sera g&eacute;n&eacute;r&eacute;e, et la page ne sera pas charg&eacute;e. <br />
Nous allons voir ici comment faire pour &eacute;viter une telle exception. Le code &agrave; &eacute;crire est -tr&egrave;s- simple et court, le voici comment&eacute;:</p>
<p class="Code">/*<br />
  Nous devons en premier lieu savoir dans quel contexte est ex&eacute;cut&eacute;s l'applet, si s'agit, par exemple, de l'appletviewer ou d'un navigateur. S'il s'agit d'un navigateur, tout va bien !<br />
  */<br />
  AppletContext navigateur = getAppletContext();</p>
<p class="Code">/*<br />
  Nous devons ensuite damander &agrave; ce navigateur, qui est maintenant en parlant programmtion, l'objet navigateur de type AppletContext, de charger une page.<br />
  Dans notre exemple l'URL charg&eacute;e est http://www.jgflsoft.com, vous pouvez bien s&ucirc;r l'adapter comme vous le d&eacute;sirez, tant que l'argument pass&eacute; &agrave; la m&eacute;thode showDocument() est de type String.<br />
  */<br />
  navigateur.showDocument(&quot;http://www.java-france.com&quot;);</p>
<p>Et voil&agrave;, le tour et jou&eacute;, la page se chargera, il vous suffit d'int&eacute;grer ces deux commandes dans un gestionnaire d'&eacute;v&egrave;nements ou dans une m&eacute;thode !</p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Ecrit &agrave; Montpellier le 22 avril 2001</p>


    </div>
  
    <h1><a href="/java/2001/04/13/comment-travailler-avec-des-archives-compressees-au-format-zip-en-java.html">Comment travailler avec des archives compressées au format ZIP en Java ?</a></h1>
    <p class="author">
      <span class="date">2001-04-13 12:06:39 +0200</span>
    </p>
    <div class="content">
      <p>Comment travailler avec des archives compress&eacute;es au format ZIP en Java ?</p>
<p>Ce HowTo a pour but de vous expliquer comment cr&eacute;er des archives de fichiers compress&eacute;es au format ZIP et comment ensuite les ouvrir et extraire les fichiers contenus &agrave; l'int&eacute;rieur. Ce n'est en aucun cas un cours th&eacute;orique sur la compression de donn&eacute;es en Java, il s'agit juste d'un tutoriel. De plus, vous devrez utiliser la documentation de Sun si vous d&eacute;sirez en savoir plus sur, par exemple, la mani&egrave;re d'afficher le nom de tous les fichiers d'une archive. Le cas &eacute;ch&eacute;ant, &eacute;crivez moi &agrave; narcanes@online.fr.</p>
<p>Nous allons dans un premier temps d&eacute;finir une archive ZIP:  </p>
<table width="100%" border="0">
<tr>
<td width="41%">Extension par d&eacute;faut du fichier</td>
<td width="59%">.ZIP</td>
</tr>
<tr>
<td width="41%">Programmes pour les lire sous Windows</td>
<td width="59%"><a href="www.winzip.com" target="_new">Winzip</a>, Pkzip, 
<p>        Norton Unzip...

<tr>
<td width="41%">Rassemble dans un fichier plusieurs autres fichiers</td>
<td width="59%">Oui</td>
</tr>
<tr>
<td width="41%">Rassemble des fichiers en les compressant (r&eacute;duisant 
<p>        leur taille)
<td width="59%">Oui</td>

<tr>
<td width="41%">On peut choisir le taux de compression</td>
<td width="59%">Oui de 0 &agrave; 9</td>
</tr>
<tr>
<td width="41%">Contient un fichier META (description de l'archive)</td>
<td width="59%">Non</td>
</tr>
<tr>
<td width="41%">On peut lire une archive ZIP sous plusieurs OS</td>
<td width="59%">Oui: Windows 3.1/95/98/Me/Nt/2000, Linux (toutes distributions), 
<p>        Sparc Solaris, MacOs, BeOs, Os2/Warp, etc...

<tr>
<td width="41%" height="26">On peut joindre des commentaires &agrave; l'archive</td>
<td width="59%" height="26">Oui</td>
</tr>

<p>Ce tutoriel comprendra 2 parties: pour commencer comment cr&eacute;er une archive ZIP, ensuite, comment en lire une et extraire ses fichiers.</p>
<h1>Comment cr&eacute;er une archive ZIP en Java ?</h1>
<p class="Code">// Cr&eacute;er des flux d'entr&eacute;e de donn&eacute;es, en indiquant comme param&egrave;tre le fichier &agrave; compresser.<br />
  FileInputStream fin1 = new FileInputStream(&quot;monPremierFichier.txt&quot;);<br />
  FileInputStream fin2 = new FileInputStream(&quot;monSecondFichier.xls&quot;);<br />
  FileInputStream fin3 = new FileInputStream(&quot;monTroisiemeFichier.doc&quot;);</p>
<p class="Code">// Cr&eacute;er un flux de sortie pour le fichier ZIP final. <br />
  FileOutputStream fout = new FileOutputStream(&quot;monFichier.zip&quot;); </p>
<p class="Code">// Mettre le flux en m&eacute;moire tampon (buffered), et le d&eacute;finir comme flux de compression ZIP<br />
  BufferedOutputStream bout = new BufferedOutputStream(fout); <br />
  ZipOutputStream zout = new ZipOutputStream(bout);</p>
<p class="Code">// D&eacute;finir le taux de compression de l'archive, de 0 &agrave; 9 (Optionnel)<br />
  zout.setLevel(6);</p>
<p class="Code">// Associer un commentaire &agrave; l'archive (Optionnel)<br />
  zout.setComment(&quot;Ceci est un commentaire&quot;);</p>
<p class="Code">// Les fichiers ZIP sont des archives, elles stockent donc plusieurs fichiers, chaque fichier est contenu dans une &quot;entr&eacute;e&quot;, nous devons donc cr&eacute;er une nouvelle<br />
  // entr&eacute;e pour chaque nouveau fichier de l'archive: (on pourra aussi utiliser ze1.getName() pour r&eacute;cup&eacute;rer le nom de l'entr&eacute;e, ceci est tr&egrave;s utilse si vous voulez <br />
  // programmer un outil du type WinZip qui affiche la liste des fichiers d'une archive.) <br />
  ZipEntry ze1 = new ZipEntry(&quot;monPremierFichier.txt&quot;); <br />
  ZipEntry ze2 = new ZipEntry(&quot;monSecondFichier.xls&quot;); <br />
  ZipEntry ze3 = new ZipEntry(&quot;monTroisiemeFichier.doc&quot;); <br />
  zout.putNextEntry(ze1); <br />
  zout.putNextEntry(ze2); <br />
  zout.putNextEntry(ze3);</p>
<p class="Code">// Nous devons ensuite copier le flux d'entr&eacute;e de fichier dans le flux de sortie compress&eacute;. Le code ci-dessous n'est pas comment&eacute;, ce n'est pas l'objet de ce tutoriel:<br />
  try <br />
  { <br />
  synchronized (fin) <br />
  {<br />
  synchronized (zout) <br />
  { <br />
  byte[] buffer = new byte[256];<br />
  while (true) <br />
  { <br />
  int bytesRead = in.read(buffer); <br />
  if (bytesRead == -1) break;<br />
  out.write(buffer, 0, bytesRead);<br />
  }<br />
  }<br />
  } }catch(Exception err) {;}</p>
<p class="Code">// Une fois les flux copi&eacute;s nous devons fermer l'entr&eacute;e<br />
  zout.closeEntry();</p>
<p class="Code">// Puis fermer les flux...<br />
  fin.close(); <br />
  zout.close();</p>
<h1>Comment d&eacute;compresser les fichiers contenus dans une archive ZIP ?</h1>
<p class="Code">// Cr&eacute;er un flux d'entr&eacute;e contenant l'archive ZIP &agrave; d&eacute;compresser<br />
  FileInputStream fin = new FileInputStream(&quot;monFichier.zip&quot;);</p>
<p class="Code">// Mettre ce flux en m&eacute;moire tampon<br />
  BufferedInputStream bis = new BufferedInputStream(fin);</p>
<p class="Code">// Identifier le flux tampon comme flux de compression ZIP<br />
  ZipInputStream zin = new ZipInputStream(bis);</p>
<p class="Code">// D&eacute;finir un objet ZipEntry<br />
  ZipEntry ze = null;</p>
<p class="Code">// Tant que cet objet est diff&eacute;rent de nul (tant qu'il y a des fichiers dans l'archive)...<br />
  while ((ze = zin.getNextEntry()) != null) {</p>
<p class="Code">// ... ex&eacute;cuter le code suivant:<br />
  // Cr&eacute;er un flux de sortie pour le fichier de l'entr&eacute;e courante<br />
  FileOutputStream fout = new FileOutputStream(ze.getName());<br />
  // Copier les flux:<br />
  try <br />
  { <br />
  synchronized (zin) <br />
  {<br />
  synchronized (fout) <br />
  { <br />
  byte[] buffer = new byte[256];<br />
  while (true) <br />
  { <br />
  int bytesRead = in.read(buffer); <br />
  if (bytesRead == -1) break;<br />
  out.write(buffer, 0, bytesRead);<br />
  }<br />
  }<br />
  } }catch(Exception err) {;}</p>
<p class="Code">// Fermer l'entr&eacute;e et le flux de sortie <br />
  zin.closeEntry();<br />
  fout.close();</p>
<p class="Code">// Terminer l'instruction while:<br />
  }</p>
<p class="Code">// Fermer le flux d'entr&eacute;e<br />
  zin.close();</p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Ecrit &agrave; Montpellier le 23 avril 2001</p>


</p></td></tr></p></td></tr></p></td></tr></table>

    </div>
  
    <h1><a href="/java/2001/03/17/comment-utiliser-un-filtre-de-fichiers-dans-un-jfilechooser.html">Comment utiliser un filtre de fichiers dans un JFileChooser ?</a></h1>
    <p class="author">
      <span class="date">2001-03-17 12:28:06 +0100</span>
    </p>
    <div class="content">
      <p>Cet article explique comment mettre en place un filtre de fichiers dans un JFileChooser, &agrave; partir de leur extension. En effet, cette fonction n'est pas impl&eacute;ment&eacute;e de mani&egrave;re efficace par d&eacute;faut, et il nous faudra cr&eacute;er notre propre classe pour un r&eacute;sultat convenable.<br />
  Nous allons ensuite cr&eacute;er un JFileChooser et lui assigner notre FileFilter appell&eacute; FiltreExtension.</p>
<p>Voici donc le code source de la classe comment&eacute;:</p>
<p class="Code">public class FiltreExtension extends javax.swing.filechooser.FileFilter<br />
  {<br />
  // 2 cha&icirc;nes qui contiendront respectivementl'entension du fichier (de la forme &quot;jpg&quot;, &quot;txt&quot;, etc...) et la descritpion<br />
  // par exemple &quot;Fichier JPEG&quot; ou &quot;Fichier Texte Brut&quot;.<br />
  String extension;<br />
String description;</p>
<p class="Code">// Notre constructeur qui admet donc comme arguments l'extension souhait&eacute;e ainsi que la description que l'on lui associe<br />
  public FiltreExtension(String extension, String description)<br />
  {<br />
  // on n'a ainsi pas besoin (on ne doit pas) inclure le &quot;.&quot; (point) dans le libell&eacute; de l'extension<br />
  if (extension.indexOf('.') == -1)<br />
  extension = &quot;.&quot; + extension;<br />
  // on assimile les Strings du d&eacute;part (variables de classe) aux Strings fournis comme argument au constructeur (variableslocales)<br />
  this.extension = extension;<br />
  this.description = description;<br />
  }</p>
<p class="Code"> public boolean accept(File fichier)<br />
  {<br />
  // v&eacute;rifier si le le fichier finit avec l'extension que nous avons sp&eacute;cifi&eacute; dans le constructeur, et, dans ce cas &quot;accepter&quot; de l'afficher<br />
  // dans la fen&ecirc;tre du JFileChooser<br />
  if (fichier.getName().endsWith(extension))<br />
  return true;<br />
  // les r&eacute;pertoires aussi doivent &ecirc;treaffich&eacute;s dans la fen&ecirc;tre du JFileChooser<br />
  else if (fichier.isDirectory())<br />
  return true;<br />
  return false;<br />
  }</p>
<p class="Code"> public String getDescription()<br />
  {<br />
  // la description du fichier, que l'on associe &agrave; son extension, on a un affichage du type: &quot;Fichier JPEG (*.jpg)&quot;<br />
  return this.description + &quot;(*&quot; + extension + &quot;)&quot;;<br />
  }<br />
}</p>
<p> Une fois ce code &eacute;crit dans un fichier du nom de &quot;FiltreExtension.java&quot;, nous pouvons incorporer ce fichier dans nos projets Java et l'utiliser.<br />
  Pour l'utiliser nous devons cr&eacute;er un JFileChooser et lui assigner un nouveau FileFilter.<br />
  Voici la proc&eacute;dure:</p>
<p>1- Cr&eacute;ons un JFileChooser pour commencer: </p>
<p class="Code">JFileChooser jfc = new JFileChooser();</p>
<p>2 - D&eacute;finissons le r&eacute;pertoire courant ua r&eacute;pertoired'ex&eacute;cution du programme (optionnel):</p>
<p class="Code">jfc.setCurrentDirectory(new File(&quot;.&quot;));</p>
<p>3 - Assignons le FileFilter:</p>
<p class="Code">jfc.addChoosableFileFilter(new FiltreExtension(&quot;jpg&quot;, &quot;Fichier JPEG&quot;));<br />
  jfc.addChoosableFileFilter(new FiltreExtension(&quot;bmp&quot;, &quot;Fichier Bitmap&quot;));<br />
  jfc.addChoosableFileFilter(new FiltreExtension(&quot;gif&quot;, &quot;Fichier GIF&quot;));<br />
  jfc.addChoosableFileFilter(new FiltreExtension(&quot;png&quot;, &quot;Fichier PNG&quot;));</p>
<p>4 - r&eacute;cup&eacute;rer le fichier que l'utilisateur a choisi:</p>
<p class="Code">int resultat = jfc.showOpenDialog(this);<br />
  if (resultat == JFileChooser.APPROVE_OPTION)<br />
  {<br />
  // code &agrave; ex&eacute;cuter comme par exemple:<br />
  File fichier;<br />
  fichier = jfc.getSelectedFile();<br />
  // suite du code...<br />
  }</p>
<p>Et voici ce que &ccedil;a donne en action :</p>
<p><img alt="FileChooser" src="./ressources/java/old/faq/filtre_extension/filtre_extension.jpg" /></p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  Ecrit &agrave; Montpellier le 17 mars 2001</p>


    </div>
  
    <h1><a href="/java/2001/03/17/comment-excuter-une-commande-systme-depuis-un-programme-java.html">Comment ex&eacute;cuter une commande syst&egrave;me depuis un programme Java ?</a></h1>
    <p class="author">
      <span class="date">2001-03-17 12:03:47 +0100</span>
    </p>
    <div class="content">
      <p>Cet article explique comment ex&eacute;cuter une commande syst&egrave;me, c'est-&agrave;-dire comment faire pour que Java transmette au syst&egrave;me d'exploitation une commande destin&eacute;e normalement &agrave; une console (fen&ecirc;tre MS-DOS sous Windows, Terminal sous UNIX, etc...).</p>
<p>Concr&egrave;tement, si vous d&eacute;sirez ex&eacute;cuter dans l'ordre les instructions suivantes en ligne de commande:<br />
  - <span class="Code">cd C:\Program Files\Microsoft Office\Office\</span><br />
  - <span class="Code">Winword.exe</span><br />
  de mani&egrave;re &agrave; se placer dans le r&eacute;pertoire C:\Program Files\Microsoft Office\Office\ et &agrave; lancer Word 2000, le programme Java peut le faire pour vous. (Dans cet exemple, on peut se passer de la commande cd pour lancer Word, mais c'est aussi pour montrer que l'on ne se limite pas au lancement d'un programme, mais que l'on peut aussi ex&eacute;cuter d'autres commandes).</p>
<p>Ce genre de fonctions sous Java permet, entre autres, de lancer des logiciels externes (ici Word) depuis une application Java, ou de remplacer un script Bash.</p>
<p>Voici la proc&eacute;dure:<br />
  (NOTE: si vous connaissez un peu les syst&egrave;mes d'exploitation et la programmation syst&egrave;me, ne vous arr&ecirc;tez pas aux explications minimales -et tr&egrave;s imparfaites- concernant des concepts abstraits comme Runtime ou Processus...)</p>
<p>1 - Cr&eacute;er un objet String qui contient la commande exacte que vous taperiez si vous &eacute;tiez sous la ligne de commande, par exemple:</p>
<p class="Code">// par exemple sous Windows<br />
  String command = &quot;C:\Program Files\Microsoft Office\Office\Winword.exe&quot;;<br />
  // ou sous Linux 2.2.x<br />
String command = &quot;ipchains -P input DENY&quot;;</p>
<p>2 - Cr&eacute;er un objet Runtime et lui assigner le &quot;runtime&quot; (c-&agrave;-d l'environnement d'ex&eacute;cution, le noyau du syst&egrave;me en quelque sorte) courant:</p>
<p class="Code">Runtime runtime = Runtime.getRuntime();</p>
<p>3 - Cr&eacute;er un nouveau processus, celui destin&eacute; &agrave; g&eacute;rer notre commande:</p>
<p class="Code">Process process = null;</p>
<p>4 - Utiliser - assigner au processus - la fonction exec de la classe Runtime avec comme param&egrave;tre notre String , ceci est susceptible de g&eacute;n&eacute;rer des exceptions, nous devons donc les &quot;attraper&quot;:</p>
<p class="Code">try<br />
  {<br />
  process = runtime.exec(command);<br />
} catch(Exception err) {;}</p>
<p>Si tout se passe bien, la commande est ex&eacute;cut&eacute;e, comme si vous l'aviez saisie dans une console.<br />
  NOTE: sous Unix, il faudra lancer le programme en tant que root pour que des commandes qui requi&egrave;rent des privil&egrave;ges &eacute;lev&eacute;s soient ex&eacute;cut&eacute;es.</p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  &Eacute;crit &agrave; Montpellier le 17 mars 2001</p>


    </div>
  
    <h1><a href="/java/2001/03/16/comment-parcourir-une-arborescence-de-fichiers.html">Comment parcourir une arborescence de fichiers ?</a></h1>
    <p class="author">
      <span class="date">2001-03-16 11:57:23 +0100</span>
    </p>
    <div class="content">
      <p>Ce document a pour but de vous expliquer, comme le dit son titre, comment d&eacute;tecter et afficher tous les fichiers et sous-r&eacute;pertoires d'un r&eacute;pertoire racine. La solution propos&eacute;e ici utilise la technique de r&eacute;cursivit&eacute;. Il existe certainement d'autres mani&egrave;res de proc&eacute;der mais celle-ci est assez &eacute;l&eacute;gante.</p>
<p>Un tout petit peu de th&eacute;orie quand m&ecirc;me: une m&eacute;thode -ou fonction, routine...- dite r&eacute;cursive est fonction qui fait r&eacute;f&eacute;rence &agrave; elle-m&ecirc;me dans son code, c'est-&agrave;-dire une fonction qui, une fois lanc&eacute;e, s'ex&eacute;cute en boucle tant qu'une certaine condition n'est pas remplie.</p>
<p>Si le code est mal programm&eacute;, que la condition ne permet jamais l'arr&ecirc;t de la m&eacute;thode, on aura une erreur du type StackOverflow, ce qui signifie que vous &ecirc;tes en train de noyer compl&egrave;tement votre programme avec des calculs astronomiques.</p>
<p>Tous les &eacute;tudiants en informatique on eu &agrave; passer par les c&eacute;l&egrave;bres Tours de Hano&iuml;, programme qui doit &ecirc;tre r&eacute;alis&eacute; &agrave; l'aide de m&eacute;thodes r&eacute;cursives. A titre indicatif (le but n'est quand m&ecirc;me pas de vous faire crouler sous la th&eacute;orie ;) quand on parle de solution r&eacute;cursive, il existe souvent une autre solution dite it&eacute;rative (bas&eacute;e sur l'utilisation de boucles for, while, etc). Cette solution it&eacute;rative est plus rapide &agrave; l'ex&eacute;cution, mais plus difficile &agrave; programmer.</p>
<p>Dans notre cas, nous voulons parcourir un r&eacute;pertoire (dor&eacute;navant appel&eacute; r&eacute;pertoire racine) et afficher son contenu, ceci ne n&eacute;cessite pas de r&eacute;cursivit&eacute;. Par contre, nous voulons en plus d&eacute;tecter tous les r&eacute;pertoires contenus dans ce r&eacute;pertoire racine, et ainsi de suite jusqu'&agrave; ce que toute l'arborescence soit &quot;scann&eacute;e&quot; ; et c'est pour cela que nous avons besoin de m&eacute;thodes r&eacute;cursives.</p>
<p>Passons au concret:</p>
<p>1 - Pour commencer, on doit cr&eacute;er une m&eacute;thode, appel&eacute;e ici recurseDirs(String r&eacute;pertoire):</p>
<p><span class="Code">public void recurseDirs(String r&eacute;pertoire)<br />
  {</span></p>
<p>2 - Nous devons sp&eacute;cifier un r&eacute;pertoire racine au programme. Pour cela nous allons cr&eacute;er un nouvel objet File, qui peut soit &ecirc;tre un fichier proprement dit soit un r&eacute;pertoire (dans notre cas un r&eacute;pertoire). La classe File admet comme param&egrave;tre un String. Vous pouvez obtenir ce String de diff&eacute;rente mani&egrave;re (en le sp&eacute;cifiant vous-m&ecirc;me manuellement, en l'obtenant par l'interm&eacute;diaire d'un JFileChooser... ), ce n'est pas notre sujet, dans tous les cas vous devez le transmettre comme param&egrave;tre &agrave; la m&eacute;thode pour pouvoir l'utiliser ici et pour pouvoir utiliser la r&eacute;cursivit&eacute; plus loin.</p>
<p class="Code">File fichier = new File(repertoire);</p>
<p>3 - Nous allons cr&eacute;er une matrice (ou tableau) destin&eacute; &agrave; contenir toutes les entr&eacute;es du r&eacute;pertoire:</p>
<p class="Code">String list[];</p>
<p>4 - Nous devons sp&eacute;cifier une condition: ex&eacute;cuter ce qui suit si et seulement si l'objet File est un r&eacute;pertoire (quand le scan est termin&eacute;, qu'il n'y a plus de nouveau r&eacute;pertoire &agrave; scanner, File ne satisfait plus la condition et on sort de la m&eacute;thode).</p>
<p class="Code">if (fichier.isDirectory())<br />
{</p>
<p>5 - Ensuite nous entrons toutes les entr&eacute;es du r&eacute;pertoire racine dans la matrice cr&eacute;&eacute;e plus haut, en utilisant la m&eacute;thode list() de la classe File qui renvoie une matrice de String:</p>
<p class="Code">list = fichier.list();</p>
<p>6 - Nous entrons ici dans le coeur du code: une r&eacute;cursivit&eacute;-it&eacute;rative (si, si!). Nous cr&eacute;ons une boucle for qui est ex&eacute;cut&eacute;e autant de fois que le r&eacute;pertoire racine contient de documents. Au sein de cette boucle for est appel&eacute;e notre m&eacute;thode (c'est l&agrave; que se trouve la r&eacute;cursivit&eacute;), avec comme argument l'entr&eacute;e num&eacute;ro n de la boucle. Le caract&egrave;re de s&eacute;paration (separatorChar) de la classe File est n&eacute;cessaire pour des questions de syntaxe du chemin du r&eacute;pertoire, nous n'avons pas &agrave; nous en soucier.</p>
<p class="Code">for (int i = 0; i &lt; list.length ; i++)<br />
  {<br />
  recurseDirs(repertoire + File.separatorChar + list[i]);<br />
}</p>
<p>7 - Nous pouvons maintenant manipuler les noms des fichiers et r&eacute;pertoires, par exemple les rediriger vers la sortie syst&egrave;me:</p>
<p class="Code">System.out.println(&quot;-&gt;&gt; &quot; + repertoire);</p>
<p>Tutoriel distribu&eacute; pour le FAQ Java de Java-France www.java-france.com / www.jgflsoft.com<br />
  R&eacute;&eacute;dit&eacute; pour Valhalla GFBLOG. <br />
  &Eacute;crit &agrave; Montpellier le 16 mars 2001</p>


    </div>
  
  
  <!-- Pagination Links -->
  
  <div class="pagination">
    
      <a href="/archives/53">&laquo; Prev</a>
    

    
      
        <a href="/index.html">1</a>
      
    
      
        <a href="/archives/2">2</a>
      
    
      
        <a href="/archives/3">3</a>
      
    
      
        <a href="/archives/4">4</a>
      
    
      
        <a href="/archives/5">5</a>
      
    
      
        <a href="/archives/6">6</a>
      
    
      
        <a href="/archives/7">7</a>
      
    
      
        <a href="/archives/8">8</a>
      
    
      
        <a href="/archives/9">9</a>
      
    
      
        <a href="/archives/10">10</a>
      
    
      
        <a href="/archives/11">11</a>
      
    
      
        <a href="/archives/12">12</a>
      
    
      
        <a href="/archives/13">13</a>
      
    
      
        <a href="/archives/14">14</a>
      
    
      
        <a href="/archives/15">15</a>
      
    
      
        <a href="/archives/16">16</a>
      
    
      
        <a href="/archives/17">17</a>
      
    
      
        <a href="/archives/18">18</a>
      
    
      
        <a href="/archives/19">19</a>
      
    
      
        <a href="/archives/20">20</a>
      
    
      
        <a href="/archives/21">21</a>
      
    
      
        <a href="/archives/22">22</a>
      
    
      
        <a href="/archives/23">23</a>
      
    
      
        <a href="/archives/24">24</a>
      
    
      
        <a href="/archives/25">25</a>
      
    
      
        <a href="/archives/26">26</a>
      
    
      
        <a href="/archives/27">27</a>
      
    
      
        <a href="/archives/28">28</a>
      
    
      
        <a href="/archives/29">29</a>
      
    
      
        <a href="/archives/30">30</a>
      
    
      
        <a href="/archives/31">31</a>
      
    
      
        <a href="/archives/32">32</a>
      
    
      
        <a href="/archives/33">33</a>
      
    
      
        <a href="/archives/34">34</a>
      
    
      
        <a href="/archives/35">35</a>
      
    
      
        <a href="/archives/36">36</a>
      
    
      
        <a href="/archives/37">37</a>
      
    
      
        <a href="/archives/38">38</a>
      
    
      
        <a href="/archives/39">39</a>
      
    
      
        <a href="/archives/40">40</a>
      
    
      
        <a href="/archives/41">41</a>
      
    
      
        <a href="/archives/42">42</a>
      
    
      
        <a href="/archives/43">43</a>
      
    
      
        <a href="/archives/44">44</a>
      
    
      
        <a href="/archives/45">45</a>
      
    
      
        <a href="/archives/46">46</a>
      
    
      
        <a href="/archives/47">47</a>
      
    
      
        <a href="/archives/48">48</a>
      
    
      
        <a href="/archives/49">49</a>
      
    
      
        <a href="/archives/50">50</a>
      
    
      
        <a href="/archives/51">51</a>
      
    
      
        <a href="/archives/52">52</a>
      
    
      
        <a href="/archives/53">53</a>
      
    
      
        <em>54</em>
      
    
      
        <a href="/archives/55">55</a>
      
    

    
      <a href="/archives/55">Next &raquo;</a>
    
  </div>
  
  
  <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p>

</div>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Valhalla.fr</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Valhalla.fr</li>
          <li><a href="mailto:your-email@domain.com">your-email@domain.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/mw4rf">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">mw4rf</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/jekyllrb">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">jekyllrb</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Ad Absurdum</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
