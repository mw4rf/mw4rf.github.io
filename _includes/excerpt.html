{% assign ribbon = false %}
{% assign firstcat = post.categories | first %}
{% for item in site.data.ribbon %}
    {% if firstcat == item.category %}
        {% assign ribbon = item.ribbon %}
    {% endif %}
{% endfor %}

<div class="grid-item thumbnail">
    {% if ribbon %}
        <div class="{{ribbon}}"><span>{{ post.categories | first }}</span></div>
    {% endif %}
        
    {% if post.thumbnail %}
        <img class="img-responsive" src="{{ post.thumbnail }}" />
    {% endif %}
    <div class="caption">
        <h2><a href="{{ post.url }}">{{ post.title }}</a></h2>
        {% if post.excerpt %}
            {{ post.excerpt }}
        {% elsif post.content contains '<!--more-->' %}
            {{ post.content | split:'<!--more-->' | first }}
        {% else %}
            {{ post.content | strip_html | truncatewords:50 }}
        {% endif %}

        <small class="text-muted">
        {{ post.date | date_to_string }}, 
        {{ post.content | number_of_words }} mots,
        Th√®me(s): {% for cat in post.categories %}{{ cat }} {% endfor %}
        </small>
    </div>
</div>
